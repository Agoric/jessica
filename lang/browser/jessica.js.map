{"version":3,"sources":["../nodejs/sesshim.mjs","../../lib/immunize.mjs","../nodejs/jessieDefaults.mjs","../../lib/slog.mjs","node_modules/process/browser.js","../nodejs/globalEnv.mjs","../../lib/indent.mjs","../../lib/boot-peg.mjs","../../lib/boot-pegast.mjs","../../lib/quasi-peg.mjs","../../lib/quasi-jessie-module.mjs","../../lib/quasi-jessie.mjs","../../lib/quasi-json.mjs","../../lib/quasi-utils.mjs","../../lib/quasi-justin.mjs","../../lib/rewrite-define.mjs","../../lib/tag-string.mjs","../../lib/translate.mjs","jessica.mjs"],"names":["harden","Object","freeze","confine","exprSrc","env","names","getOwnPropertyNames","closedFuncSrc","join","encodeURIComponent","slice","closedFunc","eval","map","n","window","global","immunize","makeImmunize","makeHarden","makeWrapper","setComputedIndex","immunizeHardener","tryWrapMethods","obj","entries","key","value","wrapped","wrap","e","_wrapperMap","makeWeakMap","fn","wrapper","get","newImmunize","set","root","wrapRoot","globalEnv","sesshim","applyMethod","thisObj","method","args","apply","index","val","slog","error","ret","iargs","ithis","prepareObject","hardMap","WeakMap","newHarden","type","has","frozen","values","makeMap","Map","makeSet","Set","makePromise","executor","Promise","makeWeakSet","WeakSet","contextArg","context","a","undefined","length","valname","keys","vname","JSON","stringify","oval","makeSlog","handler","levels","doit","level","name","tag","contextOrTemplate","raw","t","template","i","panic","alert","crit","reject","warn","notice","info","debug","trace","cachedSetTimeout","cachedClearTimeout","process","module","exports","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","setTimeout","call","runClearTimeout","marker","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","Item","array","noop","nextTick","Array","arguments","push","prototype","title","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","assign","primEnv","forEach","mySlog","ca","reduced","reduce","prior","last","trimRight","trimLeft","String","console","at0","stack","at1","indexOf","at2","at3","exitCode","indent","substs","result","newnewline","ilen","segment","startsWith","lastnl","lastIndexOf","j","split","subst","$i_indent","LEFT_RECUR","toString","RUN","self","ruleOrPatt","pos","_debug","posm","_memo","_hits","_misses","EAT","lastFailures","maxPos","fails","posArr","fail","newPos","FAIL","ERROR","_pos","found","FIND","tokStr","isArray","makeTokStr","failStr","sources","r","s","uri","line","DONE","v","numSubs","relpos","segnum","seglen","ACCEPT","_self","str","HOLE","SKIP","lHexDigits","uHexDigits","hexDigit","c","unescape","cs","q","ord","fromCharCode","bootPeg","makePeg","bootPegAst","compile","sexp","alphaCount","vars","nextVar","prefix","nextLabel","vtable","peg","rules","rulesSrc","peval","paramSrcs","def","body","bodySrc","empty","or","choices","labelSrc","choicesSrc","cSrc","seq","terms","posSrc","sSrc","vSrc","termsSrc","termSrc","pred","hole","Math","max","val0","act","patt","sep","startSrc","pattSrc","sepSrc","sepValSrc","starSrc","super","ident","begin","end","cls","classStr","invert","c2","min","charCodeAt","k","op","srcCs","dot","lit","peek","peekNot","expr","nameStr","quasifyParser","parserCreator","quasiMemo","quasiCurry","wm","templateTag","templateOrFlag","quasiRest","subs","baseCurry","parser","pair","start","done","defaultBaseGrammar","_template","metaCompile","baseRules","baseAST","parserTraitMakerSrc","makeParserTrait","parserTrait","_asExtending","quasiParser","ext","baseQuasiParser","tag0","flags","tmplOrFlag","boundParser","parserBase","p","flag","extends","pegTag","closedDefaultBaseGrammar","actionExtractorTag","actions","bootPegActions","bootPegTag","astExtractorTag","defs","reparsedPegAst","b","finalPegTag","simple","list","flatArgs","flatSeq","term","kind","_","_2","optHole","optQ","makeJessieModule","jessiePeg","d","terminatedBlock","manyBodies","bs","makeJessie","justinPeg","jessieTag","_3","id","lv","rv","pe","_4","label","stat","f","o","_5","decls","ps","parse","h","tb","pfx","fname","d2","makeJSON","es","js","qunpack","ms","qrepack","parts","argExprs","reduceElisions","$i_qunpack","binary","left","rights","prev","transformSingleQuote","qs","makeJustin","u","x","y","hide","separate","strs","actualSep","moduleRewriteDefine","moduleAST","DEFINE","starName","EXPORTS","imports","exportVars","nImport","rewriters","as","imp","sym","bind","doRewrite","add","exportDefaultX","exportX","qual","binds","clear","bindings","import","clause","fromModule","importBind","matchArray","matchProp","kw","prop","rewrite","matchRecord","moduleX","cur","modules","mod","rest","restObj","node","rewriter","tagString","tagged","cooked","cooked0","raw0","sources0","byte","column","tmpl","$i_bootPeg","$i_bootPegAst","$i_makePeg","$i_makeJessieModule","$i_makeJessie","$i_makeJSON","$i_makeJustin","rewriteModuleDefine","$i_rewriteModuleDefine","$i_tagString","jsonTag","justinTag","jessieModuleTag","translate","sourceText","parameters","resolve","sourceType","target","targetType","moduleAst","sourceURL","translatedText","evaluate","src"],"mappings":"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EAAiBzG,EAAQuG,OAAiB9Q,GAK1CD,EAAIM,KAAKC,UAAUkK,OAAYxK,EAAW,MAC1CiR,EAAI5Q,KAAKC,UAAU0Q,OAAgBhR,EAAW,MAQ7CkR,OAPHnR,IAAMkR,IACR1S,KAAKmD,KAA0F,IAAA,CAAEuP,EAAAA,IACjG1S,KAAK6C,MAAL,MAIkBmJ,EAAQsG,EAAYvB,KAI3B/S,GAAAA,SAAS+N,IAAD,QAAA,QAAA;;AC9sBA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAR/N,IAAAA,EAAAA,SAAS,CACxB,CACA,MACA,UACA,CACA,MACA,EACA,WACA,CACA,IACA,cAEA,eAGA,CACA,MACA,aACA,CACA,MACA,EACA,aACA,YACA,aACA,OACA,CACA,OACA,KAIA,CACA,MACA,aACA,CACA,MACA,EACA,CACA,KACA,WACA,YAIA,CACA,MACA,WACA,CACA,MACA,EACA,CACA,MACA,EACA,CACA,IACA,WAGA,CACA,IACA,UAIA,CACA,MACA,SACA,CACA,KACA,CACA,MACA,EACA,MACA,QAEA,CACA,MACA,EACA,MACA,UAEA,CACA,MACA,EACA,MACA,UAEA,CACA,OACA,YAIA,CACA,MACA,SACA,CACA,KACA,CACA,MACA,EACA,UACA,CACA,KACA,CACA,OACA,YAEA,CACA,OACA,aAGA,WAEA,CACA,MACA,GACA,UACA,CACA,KACA,CACA,OACA,YAEA,CACA,OACA,QAEA,CACA,OACA,UAIA,CACA,OACA,aAIA,CACA,MACA,UACA,CACA,KACA,CACA,OACA,SAEA,CACA,OACA,aACA,CACA,UACA,cAGA,CACA,MACA,GACA,OACA,aACA,SAEA,CACA,MACA,GACA,WAEA,CACA,MACA,GACA,SAEA,CACA,MACA,GACA,OAEA,CACA,MACA,GACA,SAEA,CACA,MACA,GACA,SAIA,CACA,MACA,QACA,CACA,MACA,GACA,CACA,MACA,UAEA,eAGA,CACA,MACA,aACA,CACA,OACA,CACA,SAEA,aACA,CACA,IACA,aAEA,CACA,OAEA,aAGA,CACA,MACA,aACA,CACA,OACA,CACA,MACA,aAIA,CACA,MACA,YACA,CACA,KACA,CACA,OACA,cAEA,CACA,OACA,CACA,MACA,UAKA,CACA,MACA,UACA,CACA,KACA,CACA,OACA,CACA,MACA,KAEA,CACA,SAEA,CACA,IACA,CACA,OACA,CACA,UACA,CACA,MACA,MAGA,SAGA,CACA,OAEA,CACA,MACA,KAEA,YAEA,CACA,OACA,CACA,MACA,KAEA,CACA,SAEA,CACA,IACA,CACA,OACA,CACA,UACA,CACA,MACA,MAGA,SAGA,CACA,OAEA,CACA,MACA,KAEA,cAIA,CACA,MACA,QACA,CACA,OACA,CACA,MACA,KAEA,CACA,SAEA,CACA,IACA,CACA,OACA,CACA,UACA,CACA,MACA,MAGA,UAGA,CACA,OAEA,CACA,MACA,KAEA,aAGA,CACA,MACA,QACA,CACA,KACA,CACA,OACA,OACA,CACA,MACA,KAEA,QAEA,CACA,OACA,UAIA,CACA,MACA,OACA,CACA,KACA,CACA,OACA,CACA,MACA,QAEA,CACA,MACA,gCAGA,CACA,OACA,CACA,MACA,SAEA,CACA,MACA,aAEA,CACA,MACA,cAGA,CACA,OACA,CACA,MACA,QAEA,CACA,MACA,MAGA,CACA,OACA,CACA,UACA,CACA,MACA,SAGA,CACA,UAKA,CACA,MACA,YACA,CACA,OACA,CACA,MACA,MAEA,aAGA,CACA,MACA,SACA,CACA,MACA,GACA,CACA,MACA,KAEA,aAGA,CACA,MACA,OACA,CACA,OACA,CACA,MACA,KAEA,aAGA,CACA,MACA,MACA,CACA,OACA,CACA,MACA,KAEA,aAGA,CACA,MACA,MACA,CACA,OACA,CACA,MACA,KAEA,aAGA,CACA,MACA,WACA,CACA,OACA,CACA,MACA,KAEA,aAGA,CACA,MACA,OACA,CACA,OACA,CACA,MACA,KAEA,aAGA,CACA,MACA,OACA,CACA,OACA,CACA,MACA,KAEA,aAGA,CACA,MACA,OACA,CACA,OACA,CACA,MACA,KAEA,aAGA,CACA,MACA,QACA,CACA,OACA,CACA,MACA,KAEA,aAGA,CACA,MACA,MACA,CACA,OACA,CACA,MACA,KAEA,aAGA,CACA,MACA,WACA,CACA,MACA,GACA,CACA,IACA,CACA,KACA,CACA,OACA,SAEA,CACA,OACA,eAMA,CACA,MACA,UACA,CACA,OACA,CACA,MACA,KAEA,CACA,IACA,CACA,OACA,CACA,UACA,aAEA,CACA,SAIA,cAGA,CACA,MACA,QACA,CACA,KACA,CACA,OACA,CACA,MACA,MAGA,CACA,OACA,CACA,MACA,QAGA,CACA,OACA,eAIA,CACA,MACA,YACA,CACA,KACA,CACA,OACA,CACA,MACA,WAGA,CACA,OACA,CACA,MACA,QAGA,CACA,OACA,CACA,MACA,UAKA,CACA,MACA,aACA,CACA,OACA,CACA,UACA,CACA,UAKA,CACA,MACA,OACA,CACA,OACA,CACA,OACA,IAEA,aAGA,CACA,MACA,QACA,CACA,OACA,CACA,MACA,KAEA,aAGA,CACA,MACA,MACA,CACA,OACA,CACA,MACA,KAEA,aAGA,CACA,MACA,WACA,CACA,OACA,CACA,MACA,MAEA,aAGA,CACA,MACA,WACA,CACA,OACA,CACA,MACA,MAEA,eApuBuB,QAAA,QAAA;;AC6IA,aAAA,SAAA,IAAA,IAAA,EAAA,EAAA,CAAA,mGAAA,8DAAA,yBAAA,8DAAA,oDAAA,kDAAA,oDAAA,qDAAA,qDAAA,sIAAA,6HAAA,wJAAA,kDAAA,gDAAA,8CAAA,gDAAA,8CAAA,iFAAA,ijBAAA,wUAAA,+KAAA,8IAAA,CAAA,mGAAA,8DAAA,yBAAA,8DAAA,oDAAA,kDAAA,oDAAA,qDAAA,qDAAA,sIAAA,6HAAA,wJAAA,kDAAA,gDAAA,8CAAA,gDAAA,8CAAA,iFAAA,mkBAAA,wUAAA,oLAAA,+IAAA,OAAA,EAAA,WAAA,OAAA,GAAA,EAAA,SAAA,EAAA,EAAA,GAAA,OAAA,IAAA,EAAA,EAAA,MAAA,IAAA,OAAA,OAAA,OAAA,iBAAA,EAAA,CAAA,IAAA,CAAA,MAAA,OAAA,OAAA,OAAA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,IAAA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","file":"jessica.js","sourceRoot":"","sourcesContent":["/**\n * By requiring sesshim.js, if you are not already in a SES\n * environment, you obtain a trivial polyfil of a small bit of SES's\n * API with none of its security. At the moment, you get only\n * <tt>def</tt> and <tt>confine</tt>, but with little of their\n * functionality. More API and more functionality will be provided on\n * an as-needed basis by my current uses, though I will try not to\n * break old clients that were compatible with both SES and\n * sesshim.js.\n *\n * <p>Currently, even if you are already in a SES environment,\n * sesshim.js will ignore that and do the same thing. Once actual SES\n * works on node/iojs/ES6, sesshim.js should test if it is in such an\n * environment, and re-export SES's versions of the APIs that\n * sesshim.js does provide, or wrappings that adapt them to ES6.\n */\n/**\n * The faux version of SES's <tt>harden</tt> is currently just a\n * synonym for Object.freeze.\n */\nconst harden = Object.freeze;\n/**\n * The faux version of SES's <tt>confine</tt> evals an\n * expression in an environment consisting of the global environment\n * as enhanced and shadowed by the own properties of the\n * <tt>env</tt> object. Unlike real <tt>confine</tt>, <ul>\n * <li>The faux <tt>confine</tt> does not have a third\n *     <tt>opt_options</tt> parameter. An options argument can of\n *     course be provided by the caller, but it will be ignored.\n * <li>The expression can be in the subset of ES6 supported by\n *     Babel.\n * <li>All dangerous globals that are not shadowed, such as \"window\"\n *     or \"document\", are still accessible by the evaled expression.\n * <li>The current binding of these properties at the time that\n *     <tt>confine</tt> is called are used as the initial\n *     bindings. Further changes to either the properties or the\n *     bindings are not tracked by the other.\n * <li>In the evaled expression, <tt>this</tt> is bound to\n *     <tt>undefined</tt>.\n * </ul>\n * When sesshim.js is enhanced to use SES if present, this confine\n * should wrap SES's confine rather than export it directly, in\n * order to continue to support ES6 expressions.\n */\nfunction confine(exprSrc, env) {\n    exprSrc = '' + exprSrc;\n    const names = Object.getOwnPropertyNames(env);\n    // Note: no newline prior to ${exprSrc}, so that line numbers for\n    // errors within exprSrc are accurate. Column numbers on the first\n    // line won't be, but will on following lines.\n    const closedFuncSrc = `(function(${names.join(',')}) { \"use strict\"; return (${exprSrc}\n);\n})\n//# sourceURL=data:${encodeURIComponent(exprSrc).slice(0, 48)}...\n`;\n    // tslint:disable-next-line:no-unused-expression\n    const closedFunc = (1, eval)(closedFuncSrc);\n    return closedFunc(...names.map(n => env[n]));\n}\n// For bootstrapping Jessie modules.\n(typeof window === 'undefined' ? global : window).immunize = harden;\nexport default { confine: harden(confine), harden: harden(harden) };\n","// DO NOT EDIT - Generated automatically from immunize.mjs.ts by tessc\n// Create an `immunize` function for use in Jessie endowments.\n//\n// Recursively freeze the root, a la harden.  If it is a function\n// or contains a reachable property that is an function, that\n// function will be replaced by a memoized hardened wrapper that\n// immunizes its argumens, return value, and any thrown exception.\n//\n// A baroque Proxy or frozen object cannot be immunized, but will still be\n// hardened.  These are objects that cannot possibly contain mutable Jessie\n// objects (since all Jessie objects have been immunized before export), so\n// this incompleteness does not compromise Jessie.\n\n\nconst makeImmunize = immunize((\nmakeHarden,\nmakeWrapper,\nsetComputedIndex) => {\n\n  // Create a hardener that attempts to immunize functions on the way.\n  const immunizeHardener = makeHarden(tryWrapMethods);\n  function tryWrapMethods(obj) {\n    // Just do a best-effort immunizing the object's methods.\n    for (const [key, value] of Object.entries(obj)) {\n      if (typeof value !== 'function') {\n        continue;\n      }\n      const wrapped = wrap(value);\n      try {\n        // This means: obj[key] = wrapper;\n        setComputedIndex(obj, key, wrapped);\n      } catch (e) {\n        // obj is a Proxy, or frozen object that blocked\n        // our attempt to set its property.\n\n        // It can't have originated from Jessie, so this is an\n        // endowment or primitive from the parent environment\n        // which wasn't added to harden's initialFringe.\n\n        // We go on, as a best-effort attempt to try immunizing the\n        // properties we can.\n        continue;\n      }\n    }\n  }\n\n  const _wrapperMap = makeWeakMap();\n\n  // FIXME: Needed for bootstrap.\n  _wrapperMap.set(setComputedIndex, setComputedIndex);\n\n  function wrap(fn) {\n    let wrapper = _wrapperMap.get(fn);\n    if (!wrapper) {\n      wrapper = makeWrapper(newImmunize, fn);\n\n      // Memoize our results.\n      _wrapperMap.set(fn, wrapper);\n      _wrapperMap.set(wrapper, wrapper);\n\n      // Copy in the wrapped function's properties (if any).\n      // These are immunized in the next traversal.\n      for (const [key, value] of Object.entries(fn)) {\n        setComputedIndex(wrapper, key, value);\n      }\n    }\n    return wrapper;\n  }\n\n  function newImmunize(root) {\n    // We may need to wrap the root before immunizing its children.\n    if (typeof root === 'function') {\n      const wrapRoot = wrap(root);\n      return immunizeHardener(wrapRoot);\n    }\n    return immunizeHardener(root);\n  }\n\n  return newImmunize;\n});\n\nexport default immunize(makeImmunize);","/// <reference path=\"../../typings/ses.d.ts\"/>\n/// <reference path=\"node_modules/@types/node/ts3.1/index.d.ts\"/>\nimport sesshim from './sesshim.mjs';\nconst { confine } = sesshim;\nconst globalEnv = {};\nglobalEnv.confine = confine;\nexport const applyMethod = Object.freeze((thisObj, method, args) => method.apply(thisObj, args));\nexport const setComputedIndex = Object.freeze((obj, index, val) => {\n    if (index === '__proto__') {\n        slog.error `Cannot set ${{ index }} object member`;\n    }\n    return obj[index] = val;\n});\nexport const makeWrapper = Object.freeze((newImmunize, fn) => function wrapper(...args) {\n    let ret;\n    try {\n        // Immunize `this` and arguments before calling.\n        const iargs = args.map(newImmunize);\n        const ithis = newImmunize(this);\n        ret = fn.apply(ithis, iargs);\n    }\n    catch (e) {\n        // Immunize exception, and rethrow.\n        throw newImmunize(e);\n    }\n    // Immunize return value.\n    return newImmunize(ret);\n});\n// TODO: Need to use @agoric/make-hardener.\nconst makeHarden = (prepareObject) => {\n    const hardMap = new WeakMap();\n    // FIXME: Needed for bootstrap.\n    hardMap.set(setComputedIndex, setComputedIndex);\n    if (typeof window !== 'undefined') {\n        hardMap.set(window, window);\n    }\n    function newHarden(root) {\n        if (root === null) {\n            return root;\n        }\n        const type = typeof root;\n        if (type !== 'object' && type !== 'function') {\n            return root;\n        }\n        if (hardMap.has(root)) {\n            return hardMap.get(root);\n        }\n        prepareObject(root);\n        const frozen = Object.freeze(root);\n        hardMap.set(root, frozen);\n        for (const value of Object.values(root)) {\n            newHarden(value);\n        }\n        return frozen;\n    }\n    return newHarden;\n};\nimport makeImmunize from '../../lib/immunize.mjs';\n// Need to bootstrap makeImmunize.\nglobal.makeWeakMap = Object.freeze((...args) => Object.freeze(new WeakMap(...args)));\nconst immunize = makeImmunize(makeHarden, makeWrapper, setComputedIndex);\nglobalEnv.immunize = immunize;\nglobalEnv.makeMap = immunize((...args) => new Map(...args));\nglobalEnv.makeSet = immunize((...args) => new Set(...args));\nglobalEnv.makePromise = immunize((executor) => new Promise(executor));\nglobalEnv.makeWeakMap = immunize((...args) => new WeakMap(...args));\nglobalEnv.makeWeakSet = immunize((...args) => new WeakSet(...args));\nexport default globalEnv;\n","// DO NOT EDIT - Generated automatically from slog.mjs.ts by tessc\n\n\n\n\n\n\nexport const contextArg = immunize((context, a) => {\n  if (typeof a !== 'object' || a === null) {\n    // Just stringify the argument.\n    return '' + a;\n  } else if (a.length !== undefined) {\n    // Take the value as the (anonymous) array.\n    return a;\n  }\n  // Deconstruct the argument object.\n  let valname, val;\n  for (const vname of Object.keys(a)) {\n    if (vname === 'format') {\n      // format = a[vname];\n    } else if (valname !== undefined || typeof a[vname] === 'function') {\n      // Too many members or seems to be an active object.\n      return a;\n    } else {\n      // We have at least one non-format member.\n      valname = vname;\n      val = JSON.stringify(a[vname], undefined, 2);\n    }\n  }\n\n  if (valname === undefined) {\n    // No non-format arguments.\n    return a;\n  }\n\n  if (valname[0] === '_') {\n    // Do nothing.\n  } else if (context.has(valname)) {\n    const oval = context.get(valname);\n    if (val !== oval) {\n      slog.error`Context value ${{ valname }} mismatch: ${{ val }} vs. ${{ oval }}`;\n    }\n  } else {\n    context.set(valname, val);\n  }\n  return val;\n});\n\nconst makeSlog = immunize(handler => {\n  const levels = makeMap();\n  const names = [];\n  const doit = (level, name) => {\n    if (level >= 0) {\n      names[level] = name;\n      levels.set(name, level);\n    }\n\n\n    function tag(contextOrTemplate, ...args) {\n      let context;\n      if (!contextOrTemplate.raw) {\n        context = makeMap([...Object.entries(contextOrTemplate)]);\n        return (t, ...a) =>\n        handler(level, names, levels, context, t, a);\n      }\n      // No specified context, this is the template tag.\n      context = makeMap();\n      const template = contextOrTemplate;\n      return handler(level, names, levels, context, template, args);\n    }\n    return tag;\n  };\n\n  let i = 0;\n  const slog = doit(-1, 'stringify');\n  slog.panic = doit(i++, 'panic');\n  slog.alert = doit(i++, 'alert');\n  slog.crit = doit(i++, 'crit');\n  slog.error = doit(i++, 'error');\n  slog.reject = doit(i++, 'reject');\n  slog.warn = doit(i++, 'warn');\n  slog.notice = doit(i++, 'notice');\n  slog.info = doit(i++, 'info');\n  slog.debug = doit(i++, 'debug');\n  slog.trace = doit(i++, 'trace');\n  return slog;\n});\n\nexport default immunize(makeSlog);","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// We set global variables to emulate a Jessie environment in a\n// vanilla Node.js script.  This allows us to import modules directly\n// if they are written in Jessie (as all the jessica/ directory is).\n//\n// NOTE: Don't ever do this in a library module, it's only allowed when\n// we are a main program, and we're changing global state for the\n// entire process.\n/// <reference path=\"../../typings/ses.d.ts\"/>\n/// <reference path=\"node_modules/@types/node/ts3.1/index.d.ts\"/>\nimport primEnv from './jessieDefaults.mjs';\nexport * from './jessieDefaults.mjs';\nconst globalEnv = Object.assign({}, primEnv);\n// Export the bootstrapped primitives.\nObject.keys(globalEnv).forEach(vname => {\n    global[vname] = globalEnv[vname];\n});\n// slog writes to console\nimport makeSlog, { contextArg } from '../../lib/slog.mjs';\n// Create a logger.\nconst mySlog = makeSlog((level, names, levels, context, template, args) => {\n    let ca;\n    const reduced = args.reduce((prior, a, i) => {\n        ca = contextArg(context, a);\n        const last = prior[prior.length - 1];\n        if (typeof ca === 'object' && ca !== undefined) {\n            prior[prior.length - 1] = last.trimRight();\n            prior.push(ca, template[i + 1].trimLeft());\n        }\n        else {\n            prior[prior.length - 1] = last + String(ca) + template[i + 1];\n        }\n        return prior;\n    }, [names[level] + ': ' + template[0]]);\n    if (level === levels.get('stringify')) {\n        // Just stringify.\n        return reduced.join(' ');\n    }\n    if (level >= levels.get('warn')) {\n        // Use console.error to provide an inspectable result.\n        console.error(...reduced);\n    }\n    else {\n        // Record a location, too.\n        const at0 = new Error().stack;\n        // Remove the current entry and our parent.\n        const at1 = at0.slice(at0.indexOf('\\n') + 1);\n        const at2 = at1.slice(at1.indexOf('\\n') + 1);\n        const at3 = at2.slice(at2.indexOf('\\n'));\n        console.error(...reduced, at3);\n    }\n    if (names[level] === 'reject') {\n        // Just return a promise rejection.\n        return Promise.reject(reduced.join(' '));\n    }\n    else if (typeof global !== 'undefined' && level <= levels.get('panic')) {\n        // At least allow turns to finish.\n        process.exitCode = 99;\n    }\n    else if (level <= levels.get('error')) {\n        // Throw an exception without revealing stack.\n        throw reduced.join(' ');\n    }\n    return reduced.join(' ');\n});\nglobalEnv.slog = mySlog;\n// Export the environment as global endowments.  This is only possible\n// because we are in control of the main program, and we are setting\n// this policy for all our modules.\nObject.keys(globalEnv).forEach(vname => {\n    global[vname] = globalEnv[vname];\n});\nexport default globalEnv;\n","// DO NOT EDIT - Generated automatically from indent.mjs.ts by tessc\nconst indent = immunize((template, ...substs) => {\n  const result = [];\n  let newnewline = '\\n';\n  for (let i = 0, ilen = substs.length; i < ilen; i++) {\n    let segment = template[i];\n    if (i === 0 && segment[0].startsWith('\\n')) {\n      segment = segment.slice(1);\n    }\n    const lastnl = segment.lastIndexOf('\\n');\n    if (lastnl >= 0) {\n      newnewline = '\\n';\n      for (let j = segment.length - lastnl; j > 0; j--) {\n        newnewline += ' ';\n      }\n    }\n    result.push(segment);\n    // We don't have regexps at our disposal in Jessie.\n    String(substs[i]).split('\\n').forEach((subst, j) => {\n      if (j !== 0) {\n        result.push(newnewline);\n      }\n      result.push(subst);\n    });\n  }\n  result.push(template[substs.length]);\n  return result.join('');\n});\n\nexport default immunize(indent);","// DO NOT EDIT - Generated automatically from boot-peg.mjs.ts by tessc\n// A lot of this code is lifted from:\n// https://github.com/erights/quasiParserGenerator/tree/master/src/bootbnf.js\n\n/// <reference path=\"peg.d.ts\"/>\n\nimport $i_indent from './indent.mjs';const indent = immunize($i_indent);\n\nconst LEFT_RECUR = immunize({ toString: () => 'LEFT_RECUR' });\n\nconst RUN = immunize((self, ruleOrPatt, pos, name) => {\n  if (self._debug) {\n    slog.info`run(f, ${pos}, ${name})`;\n  }\n  let posm = self._memo.get(pos);\n  if (!posm) {\n    posm = makeMap();\n    self._memo.set(pos, posm);\n  }\n  let result = posm.get(ruleOrPatt);\n  if (result) {\n    if (result === LEFT_RECUR) {\n      slog.error`Left recursion on rule: ${{ name }}`;\n    }\n    self._hits(1);\n  } else {\n    posm.set(ruleOrPatt, LEFT_RECUR);\n    self._misses(1);\n    if (typeof ruleOrPatt === 'function') {\n      result = ruleOrPatt(self, pos);\n    } else if (ruleOrPatt === void 0) {\n      slog.error`Rule missing: ${name}`;\n    } else {\n      result = EAT(self, pos, ruleOrPatt);\n    }\n    posm.set(ruleOrPatt, result);\n  }\n  return result;\n});\n\nconst lastFailures = immunize(self => {\n  let maxPos = 0;\n  let fails = [];\n  for (const posArr of self._memo) {\n    const posm = posArr[1];\n    for (const [ruleOrPatt, result] of posm) {\n      if (result !== LEFT_RECUR) {\n        const fail = typeof ruleOrPatt === 'function' ?\n        ruleOrPatt.name.slice(5) :\n        JSON.stringify('' + ruleOrPatt);\n        const [newPos, v] = result;\n        if (v === FAIL) {\n          if (newPos > maxPos) {\n            maxPos = newPos;\n            fails = [fail];\n          } else if (newPos === maxPos && fails.indexOf(fail) < 0) {\n            fails.push(fail);\n          }\n        }\n      }\n    }\n  }\n  return [maxPos, fails];\n});\n\nconst ERROR = immunize((self, _pos) => {\n  const [last, fails] = lastFailures(self);\n  const found = FIND(self.template, last);\n  const tokStr = Array.isArray(found) ?\n  `at ${last} ${makeTokStr(self, found)}` :\n  `unexpected EOF after ${makeTokStr(self, FIND(self.template, last - 1))}`;\n\n  const failStr = fails.length === 0 ?\n  `stuck` : `looking for ${fails.join(', ')}`;\n  const { sources } = self.template;\n  slog.info`-------template--------\n    ${self.template.raw.reduce((prior, r, i) => {\n    if (sources) {\n      const s = sources[i];\n      prior += `    ${s.uri}:${s.line}: `;\n    }\n    prior += JSON.stringify(r).slice(0, 50) + '\\n';\n    return prior;\n  }, '')}\n    -------\n    ${failStr}`;\n  slog.error`Syntax error ${tokStr}`;\n});\n\nconst makeTokStr = immunize((self, found) => {\n  if (Array.isArray(found)) {\n    const segment = self.template[found[0]];\n    return `${JSON.stringify(segment[found[1]])} #${found[0]}:${found[1]}`;\n  }\n  if (typeof found === 'number') {\n    return `hole #${found}`;\n  }\n  return undefined;\n});\n\nconst DONE = immunize(self => {\n  if (self._debug) {\n    for (const [pos, posm] of self._memo) {\n      const fails = [];\n      for (const [ruleOrPatt, result] of posm) {\n        const name = typeof ruleOrPatt === 'function' ?\n        ruleOrPatt.name : JSON.stringify(ruleOrPatt);\n        if (result === LEFT_RECUR) {\n          slog.notice`${name}(${pos}) => left recursion detector`;\n        } else {\n          const [newPos, v] = result;\n          if (v === FAIL) {\n            fails.push(name);\n          } else {\n            slog.debug`${name}(${pos}) => [${newPos}, ${v}]`;\n          }\n        }\n      }\n      if (fails.length >= 1) {\n        slog.debug`@${pos} => FAIL [${fails}]`;\n      }\n    }\n    slog.info`hits: ${self._hits(0)}, misses: ${self._misses(0)}`;\n  }\n});\n\nconst FIND = immunize((template, pos) =>\n{\n  const { raw } = template;\n  const numSubs = raw.length - 1;\n  let relpos = pos;\n  for (let segnum = 0; segnum <= numSubs; segnum++) {\n    const segment = raw[segnum];\n    const seglen = segment.length;\n    if (relpos < seglen) {\n      return [segnum, relpos];\n    } else if (relpos === seglen && segnum < numSubs) {\n      return segnum; // as hole number\n    }\n    relpos -= seglen + 1; // \"+1\" for the skipped hole\n  }\n});\n\nconst ACCEPT = immunize((_self, pos) => {\n  // Not really needed: useful for incremental compilation.\n  return [pos, []];\n});\n\nconst EAT = immunize((self, pos, str) => {\n  // if (self._debug) {\n  //    slog.warn`Have ${self.template}`;\n  // }\n  const found = FIND(self.template, pos);\n  if (Array.isArray(found)) {\n    const segment = self.template.raw[found[0]];\n    if (typeof str === 'string') {\n      if (segment.startsWith(str, found[1])) {\n        return [pos + str.length, str];\n      }\n    } else {\n      // Just return the next character.\n      return [pos + 1, segment[found[1]]];\n    }\n  }\n  return [pos, FAIL];\n});\n\nconst HOLE = immunize((self, pos) => {\n  const found = FIND(self.template, pos);\n  if (typeof found === 'number') {\n    return [pos + 1, found];\n  }\n  return [pos, FAIL];\n});\n\nconst FAIL = immunize({ toString: () => 'FAIL' });\nconst SKIP = immunize({ toString: () => 'SKIP' });\n\nconst lHexDigits = '0123456789abcdef';\nconst uHexDigits = 'ABCDEF';\n\nconst hexDigit = immunize(c => {\n  let i = lHexDigits.indexOf(c);\n  if (i < 0) {\n    i = uHexDigits.indexOf(c) + 10;\n  }\n  if (i < 0) {\n    slog.error`Invalid hexadecimal number ${{ c }}`;\n  }\n  return i;\n});\n\nconst unescape = immunize(cs => {\n  if (cs[0] !== '\\\\') {\n    return [cs[0], 1];\n  }\n\n  // It's an escape.\n  let q = cs[1];\n  switch (q) {\n    case 'b':{\n        q = '\\b';\n        break;\n      }\n    case 'f':{\n        q = '\\f';\n        break;\n      }\n    case 'n':{\n        q = '\\n';\n        break;\n      }\n    case 'r':{\n        q = '\\r';\n        break;\n      }\n    case 't':{\n        q = '\\t';\n        break;\n      }\n    case 'x':{\n        const ord = hexDigit(cs[2]) * 16 + hexDigit(cs[3]);\n        q = String.fromCharCode(ord);\n        return [q, 4];\n      }}\n\n\n  return [q, 2];\n});\n\nconst bootPeg = immunize((makePeg, bootPegAst) => {\n  function compile(sexp) {\n    let numSubs = 0; // # of holes implied by sexp, so far\n\n    // generated names\n    // act_${i}      action parameter\n    // rule_${name}  method from peg rule\n    // seq_${i}      sequence failure label\n    // or_${i}       choice success label\n    // pos_${i}      backtrack token index\n    // s_${i}        accumulated list of values\n    // v_${i}        set to s_${i} on fall thru path\n\n    let alphaCount = 0;\n    const vars = ['let value = FAIL'];\n    function nextVar(prefix) {\n      const result = `${prefix}_${alphaCount++}`;\n      vars.push(result);\n      return result;\n    }\n    function takeVarsSrc() {\n      const result = `${vars.join(', ')};`;\n      vars.length = 1;\n      return result;\n    }\n    function nextLabel(prefix) {\n      return `${prefix}_${alphaCount++}`;\n    }\n\n    const vtable = {\n      peg(...rules) {\n        // The following line also initializes numSubs\n        const rulesSrc = rules.map(peval).join('\\n');\n\n        const paramSrcs = [];\n        for (let i = 0; i < numSubs; i++) {\n          paramSrcs.push(`act_${i}`);\n        }\n        // rules[0] is the ast of the first rule, which has the form\n        // [\"def\", ruleName, body], so rules[0][1] is the name of\n        // the start rule. We prepend \"rule_\" to get the name of the\n        // JS method that implements the start rule. We invoke it\n        // with (0) so that it will parse starting at position 0. It\n        // returns a pair of the final position (after the last\n        // non-EOF token parsed), and the semantic value. On failure\n        // to parse, the semantic value will be FAIL.\n        const name = rules[0][1];\n        return indent`\n    (function(${paramSrcs.join(', ')}) {\n      let myHits = 0, myMisses = 0;\n      return baseMemo => (template, debug) => {\n          const BaseParser = baseMemo({});\n          return {...BaseParser,\n        template,\n        _memo: makeMap(),\n        _hits: (i) => myHits += i,\n        _misses: (i) => myMisses += i,\n        _debug: debug,\n        start: (self) => {\n          const pair = RUN(self, self.rule_${name}, 0, ${JSON.stringify(name)});\n          if (pair[1] === FAIL) {\n            ERROR(self, pair[0]);\n          }\n          return pair[1];\n        },\n        done: DONE,\n        ${rulesSrc}\n    }};\n    })\n    `;\n      },\n      def(name, body) {\n        const bodySrc = peval(body);\n        return indent`\n    rule_${name}: (self, pos) => {\n      ${takeVarsSrc()}\n      ${bodySrc}\n      return [pos, value];\n    },`;\n      },\n      empty() {\n        return `value = SKIP;`;\n      },\n      fail() {\n        return `value = FAIL;`;\n      },\n      or(...choices) {\n        const labelSrc = nextLabel('or');\n        const choicesSrc = choices.map(peval).map(cSrc => indent`\n    ${cSrc}\n    if (value !== FAIL) break ${labelSrc};`).join('\\n');\n\n        return indent`\n    ${labelSrc}: {\n      ${choicesSrc}\n    }`;\n      },\n      seq(...terms) {\n        const posSrc = nextVar('pos');\n        const labelSrc = nextLabel('seq');\n        const sSrc = nextVar('s');\n        const vSrc = nextVar('v');\n        const termsSrc = terms.map(peval).map(termSrc => indent`\n    ${termSrc}\n    if (value === FAIL) break ${labelSrc};\n    if (value !== SKIP) ${sSrc}.push(value);`).join('\\n');\n\n        return indent`\n    ${sSrc} = [];\n    ${vSrc} = FAIL;\n    ${posSrc} = pos;\n    ${labelSrc}: {\n      let beginPos, yytext;\n      ${termsSrc}\n      if (yytext !== undefined) {\n          ${vSrc} = [yytext];\n      }\n      else {\n        ${vSrc} = ${sSrc};\n      }\n    }\n    if ((value = ${vSrc}) === FAIL) pos = ${posSrc};`;\n      },\n      pred(hole) {\n        numSubs = Math.max(numSubs, hole + 1);\n        return `[pos, value] = act_${hole}(self, pos);`;\n      },\n      val0(...terms) {\n        // FIXME: Find a better way to specify where < foo > can\n        // provide a default semantic action, and to warn\n        // when it is in the wrong context.\n        const termsSrc = vtable.seq(...terms);\n        return indent`\n    ${termsSrc}\n    if (value !== FAIL && value.length === 1) value = value[0];`;\n      },\n      act(hole, ...terms) {\n        const posSrc = nextVar('pos');\n        numSubs = Math.max(numSubs, hole + 1);\n        const termsSrc = vtable.seq(...terms);\n        return indent`\n    ${posSrc} = pos;\n    ${termsSrc}\n    if (value !== FAIL) {\n        value = act_${hole}(...value);\n        if (Array.isArray(value)) {\n            value = [...value];\n            value._pegPosition = makeTokStr(self, FIND(self.template, ${posSrc}));\n        }\n    }`;\n      },\n      '**'(patt, sep) {\n        // for backtracking\n        const posSrc = nextVar('pos');\n        // a non-advancing success only repeats once.\n        const startSrc = nextVar('pos');\n        const sSrc = nextVar('s');\n        const pattSrc = peval(patt);\n        const sepSrc = peval(sep);\n        const sepValSrc = nextVar('sepVal');\n        // after first iteration, backtrack to before the separator\n        return indent`\n    ${sSrc} = [];\n    ${posSrc} = pos;\n    ${sepValSrc} = SKIP;\n    while (true) {\n      ${startSrc} = pos;\n      ${pattSrc}\n      if (value === FAIL) {\n        pos = ${posSrc};\n        break;\n      }\n      if (${sepValSrc} !== SKIP) ${sSrc}.push(${sepValSrc});\n      if (value !== SKIP) ${sSrc}.push(value);\n      ${posSrc} = pos;\n      ${sepSrc}\n      if (value === FAIL) break;\n      ${sepValSrc} = value;\n      if (pos === ${startSrc}) break;\n    }\n    value = ${sSrc};`;\n      },\n      '++'(patt, sep) {\n        const starSrc = vtable['**'](patt, sep);\n        return indent`\n    ${starSrc}\n    if (value.length === 0) value = FAIL;`;\n      },\n      '?'(patt) {\n        return vtable['**'](patt, ['fail']);\n      },\n      '*'(patt) {\n        return vtable['**'](patt, ['empty']);\n      },\n      '+'(patt) {\n        return vtable['++'](patt, ['empty']);\n      },\n      super(ident) {\n        return `[pos, value] = RUN(self, BaseParser.rule_${ident}, pos, ${\n        JSON.stringify(`super.${ident}`)});`;\n      },\n      // PEG extensions.\n      begin() {\n        // Mark the current pos.\n        return `beginPos = pos; value = [];`;\n      },\n      end() {\n        // Use the specified beginPos to extract a string\n        return indent`\n    if (beginPos !== undefined) {\n        yytext = '';\n        while (beginPos < pos) {\n            [beginPos, value] = EAT(self, beginPos);\n            if (value === FAIL) {\n                break;\n            }\n            yytext += value;\n        }\n        beginPos = undefined;\n        value = [];\n    }`;\n      },\n      cls(cs) {\n        // Character class.\n        let classStr = '',i = 0;\n        const invert = cs[i] === '^';\n        if (invert) {\n          ++i;\n        }\n        while (i < cs.length) {\n          const [c, j] = unescape(cs.slice(i));\n          i += j;\n          if (cs[i] === '-') {\n            // It's a range.\n            ++i;\n            const [c2, j2] = unescape(cs.slice(i));\n            i += j2;\n            const min = c.charCodeAt(0);\n            const max = c2.charCodeAt(0);\n            for (let k = min; k <= max; k++) {\n              classStr += String.fromCharCode(k);\n            }\n          } else {\n            classStr += c;\n          }\n        }\n        const op = invert ? '>=' : '<';\n        const srcCs = JSON.stringify(classStr);\n        return indent`\n    [pos, value] = EAT(self, pos);\n    if (value !== FAIL) {\n        value = ${srcCs}.indexOf(value) ${op} 0 ? FAIL : value;\n    }\n                `;\n      },\n      dot() {\n        return indent`\n    [pos, value] = EAT(self, pos);\n                `;\n      },\n      lit(cs) {\n        let str = '',i = 0;\n        while (i < cs.length) {\n          const [c, j] = unescape(cs.slice(i));\n          i += j;\n          str += c;\n        }\n        return indent`\n    [pos, value] = EAT(self, pos, ${JSON.stringify(str)});\n    `;\n      },\n      peek(patt) {\n        // for backtracking\n        const posSrc = nextVar('pos');\n        const pattSrc = peval(patt);\n        // if the pattern matches, restore, else FAIL\n        // always rewind.\n        return indent`\n    ${posSrc} = pos;\n    ${pattSrc}\n    if (value !== FAIL) {\n        value = SKIP;\n    }\n    pos = ${posSrc};`;\n      },\n      peekNot(patt) {\n        // for backtracking\n        const posSrc = nextVar('pos');\n        const pattSrc = peval(patt);\n        // if the pattern matches, FAIL, else success,\n        // always rewind.\n        return indent`\n    ${posSrc} = pos;\n    ${pattSrc}\n    value = (value === FAIL) ? SKIP : FAIL;\n    pos = ${posSrc};`;\n      } };\n\n\n    function peval(expr) {\n      if (typeof expr === 'string') {\n        // We only match idents... literal strings are protected\n        // by ['lit', s].\n        const nameStr = JSON.stringify(expr);\n        return `[pos, value] = RUN(self, self.rule_${expr}, pos, ${nameStr});`;\n      }\n      const op = vtable[expr[0]];\n      if (!op) {\n        slog.error`Cannot find ${expr[0]} in vtable`;\n      }\n      return op(...expr.slice(1));\n    }\n\n    return peval(sexp);\n  }\n\n\n\n  function quasiMemo(quasiCurry,\n  parserCreator) {\n    const wm = makeWeakMap();\n    let debug = false;\n    const templateTag = (templateOrFlag, ...subs) => {\n      if (typeof templateOrFlag === 'string') {\n        switch (templateOrFlag) {\n          case 'DEBUG':{\n              // Called as tag('DEBUG')`template string`\n              // Turn on debug mode.\n              debug = true;\n              break;\n            }\n          default:{\n              throw slog.error`Unrecognized tag flag ${{ templateOrFlag }}`;\n            }}\n\n        return templateTag;\n      }\n      const template = templateOrFlag;\n      let quasiRest = wm.get(template);\n      if (!quasiRest) {\n        quasiRest = quasiCurry(template, debug);\n        wm.set(template, quasiRest);\n      }\n      if (typeof quasiRest !== 'function') {\n        slog.error`${typeof quasiRest}: ${quasiRest}`;\n      }\n      return quasiRest(...subs);\n    };\n    templateTag.parserCreator = parserCreator;\n    return templateTag;\n  }\n\n  function quasifyParser(parserCreator) {\n    function baseCurry(template, debug) {\n      const parser = parserCreator(template, debug);\n      if (parser === undefined) {\n        slog.error`Cannot curry baseParserCreator`;\n      }\n      let pair = null;\n      try {\n        pair = parser.start(parser);\n      } finally {\n        parser.done(parser); // hook for logging debug output\n      }\n      return pair;\n    }\n    return quasiMemo(baseCurry, parserCreator);\n  }\n\n  const defaultBaseGrammar = quasifyParser(_template => undefined);\n\n  function metaCompile(baseRules) {\n    const baseAST = ['peg', ...baseRules];\n    const parserTraitMakerSrc = compile(baseAST);\n    // slog.trace`SOURCES: ${parserTraitMakerSrc}\\n`;\n\n    const makeParserTrait = confine(parserTraitMakerSrc, {\n      DONE,\n      EAT,\n      ERROR,\n      FAIL,\n      FIND,\n      RUN,\n      SKIP,\n      makeTokStr });\n\n\n    return function parserTag(...baseActions) {\n      const parserTrait = makeParserTrait(...baseActions);\n      let _asExtending;\n      let quasiParser;\n      const ext = baseQuasiParser => {\n\n\n        function tag0(templateOrFlag, ...substs)\n        {\n          const flags = [];\n\n\n          function tag(tmplOrFlag, ...subs)\n          {\n            if (typeof tmplOrFlag === 'string') {\n              flags.push(tmplOrFlag);\n              return tag;\n            }\n            const boundParser = quasiParser(tmplOrFlag, ...subs);\n            const parserBase = boundParser._asExtending(baseQuasiParser);\n            const parser = flags.reduce((p, flag) => p(flag), parserBase);\n            return parser;\n          }\n\n          tag.ACCEPT = ACCEPT;\n          tag.EAT = EAT;\n          tag.FAIL = FAIL;\n          tag.HOLE = HOLE;\n          tag.SKIP = SKIP;\n          tag._asExtending = _asExtending;\n          tag.extends = ext;\n          tag.parserCreator = quasiParser.parserCreator;\n\n          if (typeof templateOrFlag === 'string') {\n            return tag(templateOrFlag);\n          }\n          return tag(templateOrFlag, ...substs);\n        }\n        tag0.ACCEPT = ACCEPT;\n        tag0.EAT = EAT;\n        tag0.FAIL = FAIL;\n        tag0.HOLE = HOLE;\n        tag0.SKIP = SKIP;\n        tag0._asExtending = _asExtending;\n        tag0.extends = ext;\n        tag0.parserCreator = quasiParser.parserCreator;\n        return tag0;\n      };\n      _asExtending = baseQuasiParser => {\n        const parserCreator = parserTrait(baseQuasiParser.parserCreator);\n        const parser = quasifyParser(parserCreator);\n        const pegTag = parser;\n        pegTag.ACCEPT = ACCEPT;\n        pegTag.EAT = EAT;\n        pegTag.FAIL = FAIL;\n        pegTag.HOLE = HOLE;\n        pegTag.SKIP = SKIP;\n        pegTag._asExtending = _asExtending;\n        pegTag.extends = ext;\n        return pegTag;\n      };\n      defaultBaseGrammar._asExtending = _asExtending;\n      const closedDefaultBaseGrammar =\n      defaultBaseGrammar;\n      closedDefaultBaseGrammar._asExtending = _asExtending;\n      quasiParser = _asExtending(closedDefaultBaseGrammar);\n      return quasiParser;\n    };\n  }\n\n  // Bootstrap the compiler with the precompiled pegAst.\n  const actionExtractorTag = (_template, ...actions) => actions;\n  actionExtractorTag.ACCEPT = ACCEPT;\n  actionExtractorTag.HOLE = HOLE;\n  actionExtractorTag.SKIP = SKIP;\n\n  // Extract the actions, binding them to the metaCompile function.\n  const bootPegActions = makePeg(actionExtractorTag, metaCompile);\n\n  // Create the parser tag from the AST and the actions.\n  const compiledAst = metaCompile(bootPegAst);\n  const bootPegTag = compiledAst(...bootPegActions);\n\n  // Use the parser tag to create another parser tag that returns the AST.\n  const astExtractorTag = makePeg(\n  bootPegTag, defs => (..._) => defs);\n  const reparsedPegAst = makePeg(astExtractorTag, undefined);\n\n  // Compare our bootPegTag output to bootPegAst, to help ensure it is\n  // correct.  This doesn't defend against a malicious bootPeg,\n  // but it does prevent silly mistakes.\n  const a = JSON.stringify(bootPegAst, undefined, '  ');\n  const b = JSON.stringify(reparsedPegAst, undefined, '  ');\n  if (a !== b) {\n    slog.info`// boot-pegast.mjs.ts - AUTOMATICALLY GENERATED by boot-peg.mjs.ts\\nexport default ${{ b }};`;\n    slog.panic`reparsedPegAst does not match src/boot-pegast.mjs.ts`;\n  }\n\n  // Use the metaCompiler to generate another parser.\n  const finalPegTag = makePeg(bootPegTag, metaCompile);\n  return finalPegTag;\n});\n\nexport default immunize(bootPeg);","// DO NOT EDIT - Generated automatically from boot-pegast.mjs.ts by tessc\n// boot-pegast.mjs.ts - AUTOMATICALLY GENERATED by boot-env.mjs.ts\nexport default immunize([\n[\n\"def\",\n\"Grammar\",\n[\n\"act\",\n0,\n\"_Spacing\",\n[\n\"+\",\n\"Definition\"],\n\n\"_EndOfFile\"]],\n\n\n[\n\"def\",\n\"Definition\",\n[\n\"act\",\n2,\n\"Identifier\",\n\"LEFTARROW\",\n\"Expression\",\n\"SEMI\",\n[\n\"pred\",\n1]]],\n\n\n\n[\n\"def\",\n\"Expression\",\n[\n\"act\",\n3,\n[\n\"**\",\n\"Sequence\",\n\"_SLASH\"]]],\n\n\n\n[\n\"def\",\n\"Sequence\",\n[\n\"act\",\n5,\n[\n\"act\",\n4,\n[\n\"*\",\n\"Prefix\"]],\n\n\n[\n\"?\",\n\"HOLE\"]]],\n\n\n\n[\n\"def\",\n\"Prefix\",\n[\n\"or\",\n[\n\"act\",\n6,\n\"AND\",\n\"HOLE\"],\n\n[\n\"act\",\n7,\n\"AND\",\n\"Suffix\"],\n\n[\n\"act\",\n8,\n\"NOT\",\n\"Suffix\"],\n\n[\n\"val0\",\n\"Suffix\"]]],\n\n\n\n[\n\"def\",\n\"Suffix\",\n[\n\"or\",\n[\n\"act\",\n9,\n\"Primary\",\n[\n\"or\",\n[\n\"val0\",\n\"STARSTAR\"],\n\n[\n\"val0\",\n\"PLUSPLUS\"]],\n\n\n\"Primary\"],\n\n[\n\"act\",\n10,\n\"Primary\",\n[\n\"or\",\n[\n\"val0\",\n\"QUESTION\"],\n\n[\n\"val0\",\n\"STAR\"],\n\n[\n\"val0\",\n\"PLUS\"]]],\n\n\n\n[\n\"val0\",\n\"Primary\"]]],\n\n\n\n[\n\"def\",\n\"Primary\",\n[\n\"or\",\n[\n\"val0\",\n\"Super\"],\n\n[\n\"val0\",\n\"Identifier\",\n[\n\"peekNot\",\n\"LEFTARROW\"]],\n\n\n[\n\"act\",\n11,\n\"OPEN\",\n\"Expression\",\n\"CLOSE\"],\n\n[\n\"act\",\n12,\n\"Literal\"],\n\n[\n\"act\",\n13,\n\"Class\"],\n\n[\n\"act\",\n14,\n\"DOT\"],\n\n[\n\"act\",\n15,\n\"BEGIN\"],\n\n[\n\"act\",\n16,\n\"END\"]]],\n\n\n\n[\n\"def\",\n\"Super\",\n[\n\"act\",\n17,\n[\n\"lit\",\n\"super.\"],\n\n\"Identifier\"]],\n\n\n[\n\"def\",\n\"Identifier\",\n[\n\"val0\",\n[\n\"begin\"],\n\n\"IdentStart\",\n[\n\"*\",\n\"IdentCont\"],\n\n[\n\"end\"],\n\n\"_Spacing\"]],\n\n\n[\n\"def\",\n\"IdentStart\",\n[\n\"val0\",\n[\n\"cls\",\n\"a-zA-Z_\"]]],\n\n\n\n[\n\"def\",\n\"IdentCont\",\n[\n\"or\",\n[\n\"val0\",\n\"IdentStart\"],\n\n[\n\"val0\",\n[\n\"cls\",\n\"0-9\"]]]],\n\n\n\n\n[\n\"def\",\n\"Literal\",\n[\n\"or\",\n[\n\"val0\",\n[\n\"cls\",\n\"'\"],\n\n[\n\"begin\"],\n\n[\n\"*\",\n[\n\"val0\",\n[\n\"peekNot\",\n[\n\"cls\",\n\"'\"]],\n\n\n\"Char\"]],\n\n\n[\n\"end\"],\n\n[\n\"cls\",\n\"'\"],\n\n\"_Spacing\"],\n\n[\n\"val0\",\n[\n\"cls\",\n\"\\\"\"],\n\n[\n\"begin\"],\n\n[\n\"*\",\n[\n\"val0\",\n[\n\"peekNot\",\n[\n\"cls\",\n\"\\\"\"]],\n\n\n\"Char\"]],\n\n\n[\n\"end\"],\n\n[\n\"cls\",\n\"\\\"\"],\n\n\"_Spacing\"]]],\n\n\n\n[\n\"def\",\n\"Class\",\n[\n\"val0\",\n[\n\"lit\",\n\"[\"],\n\n[\n\"begin\"],\n\n[\n\"*\",\n[\n\"val0\",\n[\n\"peekNot\",\n[\n\"lit\",\n\"]\"]],\n\n\n\"Range\"]],\n\n\n[\n\"end\"],\n\n[\n\"lit\",\n\"]\"],\n\n\"_Spacing\"]],\n\n\n[\n\"def\",\n\"Range\",\n[\n\"or\",\n[\n\"val0\",\n\"Char\",\n[\n\"lit\",\n\"-\"],\n\n\"Char\"],\n\n[\n\"val0\",\n\"Char\"]]],\n\n\n\n[\n\"def\",\n\"Char\",\n[\n\"or\",\n[\n\"val0\",\n[\n\"lit\",\n\"\\\\\\\\\"],\n\n[\n\"cls\",\n\"abefnrtv'\\\"\\\\[\\\\]\\\\\\\\\\\\`\\\\$\"]],\n\n\n[\n\"val0\",\n[\n\"lit\",\n\"\\\\\\\\x\"],\n\n[\n\"cls\",\n\"0-9a-fA-F\"],\n\n[\n\"cls\",\n\"0-9a-fA-F\"]],\n\n\n[\n\"val0\",\n[\n\"lit\",\n\"\\\\\\\\\"],\n\n[\n\"lit\",\n\"-\"]],\n\n\n[\n\"val0\",\n[\n\"peekNot\",\n[\n\"lit\",\n\"\\\\\\\\\"]],\n\n\n[\n\"dot\"]]]],\n\n\n\n\n[\n\"def\",\n\"LEFTARROW\",\n[\n\"val0\",\n[\n\"lit\",\n\"<-\"],\n\n\"_Spacing\"]],\n\n\n[\n\"def\",\n\"_SLASH\",\n[\n\"act\",\n18,\n[\n\"lit\",\n\"/\"],\n\n\"_Spacing\"]],\n\n\n[\n\"def\",\n\"SEMI\",\n[\n\"val0\",\n[\n\"lit\",\n\";\"],\n\n\"_Spacing\"]],\n\n\n[\n\"def\",\n\"AND\",\n[\n\"val0\",\n[\n\"lit\",\n\"&\"],\n\n\"_Spacing\"]],\n\n\n[\n\"def\",\n\"NOT\",\n[\n\"val0\",\n[\n\"lit\",\n\"~\"],\n\n\"_Spacing\"]],\n\n\n[\n\"def\",\n\"QUESTION\",\n[\n\"val0\",\n[\n\"lit\",\n\"?\"],\n\n\"_Spacing\"]],\n\n\n[\n\"def\",\n\"STAR\",\n[\n\"val0\",\n[\n\"lit\",\n\"*\"],\n\n\"_Spacing\"]],\n\n\n[\n\"def\",\n\"PLUS\",\n[\n\"val0\",\n[\n\"lit\",\n\"+\"],\n\n\"_Spacing\"]],\n\n\n[\n\"def\",\n\"OPEN\",\n[\n\"val0\",\n[\n\"lit\",\n\"(\"],\n\n\"_Spacing\"]],\n\n\n[\n\"def\",\n\"CLOSE\",\n[\n\"val0\",\n[\n\"lit\",\n\")\"],\n\n\"_Spacing\"]],\n\n\n[\n\"def\",\n\"DOT\",\n[\n\"val0\",\n[\n\"lit\",\n\".\"],\n\n\"_Spacing\"]],\n\n\n[\n\"def\",\n\"_Spacing\",\n[\n\"act\",\n19,\n[\n\"*\",\n[\n\"or\",\n[\n\"val0\",\n\"Space\"],\n\n[\n\"val0\",\n\"Comment\"]]]]],\n\n\n\n\n\n[\n\"def\",\n\"Comment\",\n[\n\"val0\",\n[\n\"lit\",\n\"#\"],\n\n[\n\"*\",\n[\n\"val0\",\n[\n\"peekNot\",\n\"EndOfLine\"],\n\n[\n\"dot\"]]],\n\n\n\n\"EndOfLine\"]],\n\n\n[\n\"def\",\n\"Space\",\n[\n\"or\",\n[\n\"val0\",\n[\n\"lit\",\n\" \"]],\n\n\n[\n\"val0\",\n[\n\"lit\",\n\"\\\\t\"]],\n\n\n[\n\"val0\",\n\"EndOfLine\"]]],\n\n\n\n[\n\"def\",\n\"EndOfLine\",\n[\n\"or\",\n[\n\"val0\",\n[\n\"lit\",\n\"\\\\r\\\\n\"]],\n\n\n[\n\"val0\",\n[\n\"lit\",\n\"\\\\n\"]],\n\n\n[\n\"val0\",\n[\n\"lit\",\n\"\\\\r\"]]]],\n\n\n\n\n[\n\"def\",\n\"_EndOfFile\",\n[\n\"val0\",\n[\n\"peekNot\",\n[\n\"dot\"]]]],\n\n\n\n\n[\n\"def\",\n\"HOLE\",\n[\n\"val0\",\n[\n\"pred\",\n20],\n\n\"_Spacing\"]],\n\n\n[\n\"def\",\n\"BEGIN\",\n[\n\"val0\",\n[\n\"lit\",\n\"<\"],\n\n\"_Spacing\"]],\n\n\n[\n\"def\",\n\"END\",\n[\n\"val0\",\n[\n\"lit\",\n\">\"],\n\n\"_Spacing\"]],\n\n\n[\n\"def\",\n\"PLUSPLUS\",\n[\n\"val0\",\n[\n\"lit\",\n\"++\"],\n\n\"_Spacing\"]],\n\n\n[\n\"def\",\n\"STARSTAR\",\n[\n\"val0\",\n[\n\"lit\",\n\"**\"],\n\n\"_Spacing\"]]]);","// DO NOT EDIT - Generated automatically from quasi-peg.mjs.ts by tessc\n// PEG quasi Grammar for PEG quasi Grammars\n// Michael FIG <michael+jessica@fig.org>, 2019-01-05\n//\n// This grammar is adapted from:\n// http://piumarta.com/software/peg/peg-0.1.18/src/peg.peg\n//\n// Modified for Jessica to support:\n//   Semantic actions provided in tagged template HOLEs\n//   '~' for negative lookahead (instead of '!')\n//   ';' terminator for definitions\n//   '**' and '++' for separators\n//   'super.RULE' syntax for extended grammars\n//   '\\xFF' instead of octal character literals\n// which are adapted from:\n// https://github.com/erights/quasiParserGenerator\n\n/// <reference path=\"peg.d.ts\"/>\n\nconst makePeg = immunize((\npegTag,\nmetaCompile) => {\n  const { ACCEPT, HOLE, SKIP } = pegTag;\n\n  function simple(prefix, list) {\n    if (list.length === 0) {return ['empty'];}\n    if (list.length === 1) {return list[0];}\n    return [prefix, ...list];\n  }\n\n  function flatArgs(args) {\n    return args.reduce((prior, a) => {\n      prior.push(...flatSeq(a));\n      return prior;\n    }, []);\n  }\n\n  function flatSeq(term) {\n    if (Array.isArray(term)) {\n      if (term.length === 0) {\n        return [];\n      }\n      const [kind, ...terms] = term;\n      if (kind === 'seq') {\n        return flatArgs(terms);\n      } else if (terms.length === 0 && Array.isArray(kind)) {\n        return flatSeq(kind);\n      } else {\n        return [[kind, ...flatArgs(terms)]];\n      }\n    }\n\n    return [term];\n  }\n\n  return pegTag`\n# Hierarchical syntax\n\nGrammar      <- _Spacing Definition+ _EndOfFile\n                    ${metaCompile};\n\nDefinition   <- Identifier LEFTARROW Expression SEMI &${ACCEPT}\n                    ${(i, _, e, _2) => ['def', i, e]};\nExpression   <- Sequence ** _SLASH\n                    ${list => simple('or', list)};\nSequence     <- (Prefix*\n                    ${list => simple('seq', list)})\n                 HOLE?\n                    ${(seq, optHole) => optHole.length === 0 ?\n  ['val0', ...flatSeq(seq)] :\n  ['act', optHole[0], ...flatSeq(seq)]};\nPrefix       <- AND HOLE\n                    ${(_, a) => ['pred', a]}\n              / AND Suffix\n                    ${(_, s) => ['peek', s]}\n              / NOT Suffix\n                    ${(_, s) => ['peekNot', s]}\n              /     Suffix;\nSuffix       <- Primary (STARSTAR\n                        / PLUSPLUS) Primary\n                    ${(patt, q, sep) => [q, patt, sep]}\n              / Primary (QUESTION\n                        / STAR\n                        / PLUS)\n                    ${(patt, optQ) => [optQ[0], patt]}\n              / Primary;\nPrimary      <- Super\n              / Identifier ~LEFTARROW\n              / OPEN Expression CLOSE\n                    ${(_, e, _2) => e}\n              / Literal\n                    ${s => ['lit', s]}\n              / Class\n                    ${c => ['cls', c]}\n              / DOT\n                    ${() => ['dot']}\n              / BEGIN\n                    ${() => ['begin']}\n              / END\n                    ${() => ['end']}\n              ;\n\nSuper        <- 'super.' Identifier\n                    ${(_, i) => ['super', i]};\n\n# Lexical syntax\n\nIdentifier   <- < IdentStart IdentCont* > _Spacing;\nIdentStart   <- [a-zA-Z_];\nIdentCont    <- IdentStart / [0-9];\nLiteral      <- ['] < (~['] Char )* > ['] _Spacing\n              / [\"] < (~[\"] Char )* > [\"] _Spacing;\nClass        <- '[' < (~']' Range)* > ']' _Spacing;\nRange        <- Char '-' Char / Char;\nChar         <- '\\\\' [abefnrtv'\"\\[\\]\\\\\\`\\$]\n              / '\\\\x' [0-9a-fA-F][0-9a-fA-F]\n              / '\\\\' '-'\n              / ~'\\\\' .;\nLEFTARROW    <- '<-' _Spacing;\n_SLASH        <- '/' _Spacing              ${_ => SKIP};\nSEMI         <- ';' _Spacing;\nAND          <- '&' _Spacing;\nNOT          <- '~' _Spacing;\nQUESTION     <- '?' _Spacing;\nSTAR         <- '*' _Spacing;\nPLUS         <- '+' _Spacing;\nOPEN         <- '(' _Spacing;\nCLOSE        <- ')' _Spacing;\nDOT          <- '.' _Spacing;\n_Spacing      <- (Space / Comment)*        ${_ => SKIP};\nComment      <- '#' (~EndOfLine .)* EndOfLine;\nSpace        <- ' ' / '\\t' / EndOfLine;\nEndOfLine    <- '\\r\\n' / '\\n' / '\\r';\n_EndOfFile    <- ~.;\n\nHOLE         <- &${HOLE} _Spacing;\nBEGIN        <- '<' _Spacing;\nEND          <- '>' _Spacing;\nPLUSPLUS     <- '++' _Spacing;\nSTARSTAR     <- '**' _Spacing;\n`;\n});\n\nexport default immunize(makePeg);","// DO NOT EDIT - Generated automatically from quasi-jessie-module.mjs.ts by tessc\n// An extension of the Jessie grammar to facilitate rewriting\n// imports/exports as AMD.\n\n/// <reference path=\"peg.d.ts\"/>\n\nconst makeJessieModule = immunize(jessiePeg => {\n  return jessiePeg`\n    # Override rather than inherit start production.\n    # Only module syntax is permitted.\n    start <- _WS moduleBody _EOF               ${b => (..._a) => ['moduleX', b]};\n\n    # A.5 Scripts and Modules\n\n    immunizedExpr <- < super.immunizedExpr >;\n\n    moduleBody <- moduleItem*;\n    moduleItem <-\n      < SEMI >\n    / importDecl    # Same AST as in Jessie.\n    / exportDecl    # Similar AST, but immunizedExpr is source string.\n    / < moduleDeclaration >;  # Source string.\n\n    exportDecl <-\n      EXPORT DEFAULT < exportableExpr > SEMI    ${e => ['exportDefaultX', e]}\n    / EXPORT moduleDeclaration                  ${(_, d) => ['exportX', ...d]};\n    `;\n});\n\nexport default immunize(makeJessieModule);","// DO NOT EDIT - Generated automatically from quasi-jessie.mjs.ts by tessc\n// Subsets of JavaScript, starting from the grammar as defined at\n// http://www.ecma-international.org/ecma-262/9.0/#sec-grammar-summary\n\n// See https://github.com/Agoric/Jessie/blob/master/README.md\n// for documentation of the Jessie grammar defined here.\n\n/// <reference path=\"peg.d.ts\"/>\n\n\nconst terminatedBlock = immunize(manyBodies => {\n  const stmts = manyBodies.reduce((prior, body) => {\n    const [bs, t] = body;\n    bs.forEach(b => prior.push(b));\n    prior.push(t);\n    return prior;\n  }, []);\n  return ['block', stmts];\n});\n\nconst makeJessie = immunize((peg, justinPeg) => {\n  const { SKIP } = justinPeg;\n  const jessieTag = justinPeg`\n    # Override rather than inherit start production.\n    # Only module syntax is permitted.\n    start <- _WS moduleBody _EOF               ${b => (..._a) => ['module', b]};\n\n    # A.1 Lexical Grammar\n\n    # For proposed eventual send expressions\n    LATER <- _NO_NEWLINE \"!\" _WS;\n\n    # A.2 Expressions\n\n    # Jessie primaryExpr does not include \"this\", ClassExpression,\n    # GeneratorExpression, AsyncFunctionExpression,\n    # AsyncGenerarorExpression, or RegularExpressionLiteral.\n    primaryExpr <-\n      super.primaryExpr\n    / functionExpr;\n\n    propDef <-\n      methodDef\n    / super.propDef;\n\n    purePropDef <-\n      methodDef\n    / super.purePropDef;\n\n    # Recognize pre-increment/decrement.\n    prePre <-\n      (PLUSPLUS / MINUSMINUS)                          ${op => `pre:${op}`}\n    / super.prePre;\n\n    # Extend to recognize proposed eventual get syntax,\n    # as well as computed indices and postfix increment/decrement.\n    memberPostOp <-\n      super.memberPostOp\n    / LEFT_BRACKET assignExpr RIGHT_BRACKET        ${(_, e, _2) => ['index', e]}\n    / LATER LEFT_BRACKET assignExpr RIGHT_BRACKET  ${(_, _2, e, _3) => ['indexLater', e]}\n    / LATER IDENT_NAME                             ${(_, id) => ['getLater', id]};\n\n    # Extend to recognize proposed eventual send syntax.\n    # We distinguish b!foo(x) from calling b!foo by a post-parsing pass\n    callPostOp <-\n      super.callPostOp\n    / LATER args                                           ${(_, args) => ['callLater', args]};\n\n    postOp <- (PLUSPLUS / MINUSMINUS) _WS;\n\n    # to be extended\n    assignExpr <-\n      arrowFunc\n    / functionExpr\n    / lValue postOp                                        ${(lv, op) => [op, lv]}\n    / lValue (EQUALS / assignOp) assignExpr                ${(lv, op, rv) => [op, lv, rv]}\n    / super.assignExpr\n    / primaryExpr;\n\n    # An expression without side-effects.\n    pureExpr <-\n      arrowFunc\n    / super.pureExpr;\n\n    # In Jessie, an lValue is only a variable, a computed index-named\n    # property (an array element), or a statically string-named\n    # property.\n    # We allow assignment to statically string-named fields, since it\n    # is useful during initialization and prevented thereafter by\n    # mandatory tamper-proofing.\n\n    # to be overridden or extended\n    lValue <-\n      primaryExpr LEFT_BRACKET indexExpr RIGHT_BRACKET     ${(pe, _, e, _2) => ['index', pe, e]}\n    / primaryExpr LATER LEFT_BRACKET indexExpr RIGHT_BRACKET ${(pe, _, _2, e, _3) => ['indexLater', pe, e]}\n    / primaryExpr DOT IDENT_NAME                           ${(pe, _, id) => ['get', pe, id]}\n    / primaryExpr LATER IDENT_NAME                         ${(pe, _, id) => ['getLater', pe, id]}\n    / useVar;\n\n    assignOp <-\n      (\"*=\" / \"/=\" / \"%=\" / \"+=\" / \"-=\"\n    / \"<<=\" / \">>=\" / \">>>=\"\n    / \"&=\" / \"^=\" / \"|=\"\n    / \"**=\") _WS;\n\n\n    # A.3 Statements\n\n    # to be extended.\n    # The exprStatement production must go last, so PEG's prioritized\n    # choice will interpret {} as a block rather than an expression.\n    statement <-\n      block\n    / IF LEFT_PAREN expr RIGHT_PAREN arm ELSE elseArm      ${(_, _2, c, _3, t, _4, e) => ['if', c, t, e]}\n    / IF LEFT_PAREN expr RIGHT_PAREN arm                   ${(_, _2, c, _3, t) => ['if', c, t]}\n    / breakableStatement\n    / terminator\n    / IDENT COLON statement                                ${(label, _, stat) => ['label', label, stat]}\n    / TRY block catcher finalizer                          ${(_, b, c, f) => ['try', b, c, f]}\n    / TRY block catcher                                    ${(_, b, c) => ['try', b, c]}\n    / TRY block finalizer                                  ${(_, b, f) => ['try', b, undefined, f]}\n    / DEBUGGER SEMI                                        ${(_, _2) => ['debugger']}\n    / exprStatement;\n\n    # to be overridden.  In Jessie, only blocks are accepted as arms\n    # of flow-of-control statements.\n    arm <- block;\n\n    # Allows for\n    # if (...) {} else if (...) {} else if (...) {};\n    elseArm <-\n      arm\n    / IF LEFT_PAREN expr RIGHT_PAREN arm ELSE elseArm      ${(_, _2, c, _3, t, _4, e) => ['if', c, t, e]}\n    / IF LEFT_PAREN expr RIGHT_PAREN arm                   ${(_, _2, c, _3, t) => ['if', c, t]};\n\n    breakableStatement <-\n      FOR LEFT_PAREN declOp forOfBinding OF expr RIGHT_PAREN arm\n            ${(_, _2, o, d, _3, e, _4, b) => ['forOf', o, d, e, b]}\n    / FOR LEFT_PAREN declaration expr? SEMI expr? RIGHT_PAREN arm ${(_, _2, d, c, _3, i, _4, b) => ['for', d, c, i, b]}\n    / WHILE LEFT_PAREN expr RIGHT_PAREN arm                       ${(_, _2, c, _3, b) => ['while', c, b]}\n    / SWITCH LEFT_PAREN expr RIGHT_PAREN LEFT_BRACE clause* RIGHT_BRACE\n            ${(_, _2, e, _3, _4, bs, _5) => ['switch', e, bs]};\n\n    # Each case clause must end in a terminating statement.\n    terminator <-\n      \"continue\" _NO_NEWLINE IDENT SEMI                ${(_, label, _3) => ['continue', label]}\n    / \"continue\" _WS SEMI                              ${(_, _2) => ['continue']}\n    / \"break\" _NO_NEWLINE IDENT SEMI                   ${(_, label, _2) => ['break', label]}\n    / \"break\" _WS SEMI                                 ${(_, _2) => ['break']}\n    / \"return\" _NO_NEWLINE expr SEMI                   ${(_, e, _2) => ['return', e]}\n    / \"return\" _WS SEMI                                ${(_, _2) => ['return']}\n    / \"throw\" _NO_NEWLINE expr SEMI                    ${(_, e, _3) => ['throw', e]};\n\n    block <- LEFT_BRACE body RIGHT_BRACE              ${(_, b, _2) => ['block', b]};\n    body <- statementItem*;\n\n    # declaration must come first, so that PEG will prioritize\n    # function declarations over exprStatement.\n    statementItem <-\n      declaration\n    / statement;\n\n    # No \"class\" declaration.\n    # No generator, async, or async iterator function.\n    declaration <-\n      declOp binding ** _COMMA SEMI                    ${(op, decls, _) => [op, decls]}\n    / functionDecl;\n\n    declOp <- (\"const\" / \"let\") _WSN;\n\n    forOfBinding <- bindingPattern / defVar;\n    binding <-\n      bindingPattern EQUALS assignExpr                ${(p, _, e) => ['bind', p, e]}\n    / defVar EQUALS assignExpr                        ${(p, _, e) => ['bind', p, e]}\n    / defVar;\n\n    bindingPattern <-\n      LEFT_BRACKET elementParam ** _COMMA RIGHT_BRACKET     ${(_, ps, _2) => ['matchArray', ps]}\n    / LEFT_BRACE propParam ** _COMMA RIGHT_BRACE            ${(_, ps, _2) => ['matchRecord', ps]};\n\n    pattern <-\n      bindingPattern\n    / defVar\n    / dataLiteral                                     ${n => ['matchData', JSON.parse(n)]}\n    / HOLE                                            ${h => ['patternHole', h]};\n\n    # to be overridden\n    elementParam <- param;\n\n    param <-\n      ELLIPSIS pattern                                ${(_, p) => ['rest', p]}\n    / defVar EQUALS assignExpr                        ${(v, _, e) => ['optional', v, e]}\n    / pattern;\n\n    propParam <-\n      ELLIPSIS pattern                                ${(_, p) => ['restObj', p]}\n    / propName COLON pattern                          ${(k, _, p) => ['matchProp', k, p]}\n    / defVar EQUALS assignExpr                        ${(id, _, e) => ['optionalProp', id[1], id, e]}\n    / defVar                                          ${id => ['matchProp', id[1], id]};\n\n    # Use PEG prioritized choice.\n    # TODO emit diagnostic for failure cases.\n    exprStatement <-\n      ~cantStartExprStatement expr SEMI               ${(e, _2) => e};\n\n    cantStartExprStatement <-\n      (\"{\" / \"function\" / \"async\" _NO_NEWLINE \"function\"\n    / \"class\" / \"let\" / \"[\") _WSN;\n\n    # to be overridden\n    terminatedBody <- ((~terminator statementItem)* terminator)+   ${tb => terminatedBlock(tb)};\n    clause <-\n      caseLabel+ LEFT_BRACE terminatedBody RIGHT_BRACE ${(cs, _, b, _2) => ['clause', cs, b]};\n    caseLabel <-\n      CASE expr COLON                                 ${(_, e) => ['case', e]}\n    / DEFAULT _WS COLON                                ${(_, _2) => ['default']};\n\n    catcher <- CATCH LEFT_PAREN pattern RIGHT_PAREN block ${(_, _2, p, _3, b) => ['catch', p, b]};\n    finalizer <- FINALLY block                        ${(_, b) => ['finally', b]};\n\n\n    # A.4 Functions and Classes\n\n    functionDecl <-\n      FUNCTION defVar LEFT_PAREN param ** _COMMA RIGHT_PAREN block\n                                                      ${(_, n, _2, p, _3, b) => ['functionDecl', n, p, b]};\n\n    functionExpr <-\n      FUNCTION defVar? LEFT_PAREN param ** _COMMA RIGHT_PAREN block\n                                                      ${(_, n, _2, p, _3, b) => ['functionExpr', n[0], p, b]};\n\n    # The assignExpr form must come after the block form, to make proper use\n    # of PEG prioritized choice.\n    arrowFunc <-\n      arrowParams _NO_NEWLINE ARROW block              ${(ps, _2, b) => ['arrow', ps, b]}\n    / arrowParams _NO_NEWLINE ARROW assignExpr         ${(ps, _2, e) => ['lambda', ps, e]};\n\n    arrowParams <-\n      IDENT                                           ${id => [['def', id]]}\n    / LEFT_PAREN param ** _COMMA RIGHT_PAREN           ${(_, ps, _2) => ps};\n\n    # to be extended\n    methodDef <-\n      method\n    / GET propName LEFT_PAREN RIGHT_PAREN block            ${(_, n, _2, _3, b) => ['getter', n, [], b]}\n    / SET propName LEFT_PAREN param RIGHT_PAREN block      ${(_, n, _2, p, _3, b) => ['setter', n, [p], b]};\n\n    method <-\n      propName LEFT_PAREN param ** _COMMA RIGHT_PAREN block ${(n, _, p, _2, b) => ['method', n, p, b]};\n\n\n    # A.5 Scripts and Modules\n\n    moduleBody <- moduleItem*;\n    moduleItem <-\n      SEMI                                               ${_ => SKIP}\n    / importDecl\n    / exportDecl\n    / moduleDeclaration;\n\n    useImport <- IMPORT_PFX IDENT                 ${(pfx, id) => ['use', pfx + id]};\n    defImport <- IMPORT_PFX IDENT                 ${(pfx, id) => ['def', pfx + id]};\n\n    moduleDeclaration <-\n      \"const\" _WSN moduleBinding ** _COMMA SEMI       ${(op, decls) => [op, decls]};\n\n    # An immunized expression without side-effects.\n    immunizedExpr <-\n      dataLiteral                                     ${d => ['data', JSON.parse(d)]}\n    / \"immunize\" _WS LEFT_PAREN (pureExpr / useImport) RIGHT_PAREN  ${(fname, _2, expr, _3) =>\n  ['call', ['use', fname], [expr]]};\n\n    # Jessie modules only allow immunized module-level bindings.\n    moduleBinding <-\n      bindingPattern EQUALS immunizedExpr       ${(p, _, e) => ['bind', p, e]}\n    / defVar EQUALS immunizedExpr               ${(p, _, e) => ['bind', p, e]}\n    / defVar;\n\n    importClause <-\n      STAR AS defImport                         ${(_, _2, d) => ['importBind', [['as', '*', d[1]]]]}\n    / namedImports                              ${n => ['importBind', n]}\n    / defImport _COMMA STAR AS defImport        ${(d, _, _2, d2) => ['importBind', [['as', 'default', d[1]],\n  ['as', '*', d2[1]]]]}\n    / defImport _COMMA namedImports             ${(d, n) => ['importBind', [['as', 'default', d[1]], ...n]]}\n    / defImport                                 ${d => ['importBind', [['as', 'default', d[1]]]]};\n\n    importSpecifier <-\n      defImport                                 ${d => ['as', d[1], d[1]]}\n    / IDENT_NAME AS defImport                   ${(i, _, d) => ['as', i, d[1]]};\n\n    namedImports <-\n      LEFT_BRACE importSpecifier ** _COMMA _COMMA? RIGHT_BRACE ${(_, s, _2) => s};\n\n    importDecl <- IMPORT importClause FROM STRING SEMI  ${(_, v, _2, s, _3) => ['import', v, JSON.parse(s)]};\n    exportDecl <-\n      EXPORT DEFAULT exportableExpr SEMI        ${(_, _2, e, _3) => ['exportDefault', e]}\n    / EXPORT moduleDeclaration                  ${(_, d) => ['export', ...d]};\n\n    # to be extended\n    exportableExpr <- immunizedExpr;\n\n    # Lexical syntax\n    ARROW <- \"=>\" _WS;\n    AS <- \"as\" _WSN;\n    DEBUGGER <- \"debugger\" _WSN;\n    PLUSPLUS <- \"++\" _WSN;\n    MINUSMINUS <- \"--\" _WSN;\n    CASE <- \"case\" _WSN;\n    IF <- \"if\" _WSN;\n    ELSE <- \"else\" _WSN;\n    FOR <- \"for\" _WSN;\n    OF <- \"of\" _WSN;\n    WHILE <- \"while\" _WSN;\n    BREAK <- \"break\" _WSN;\n    CONTINUE <- \"continue\" _WSN;\n    SWITCH <- \"switch\" _WSN;\n    TRY <- \"try\" _WSN;\n    CATCH <- \"catch\" _WSN;\n    FINALLY <- \"finally\" _WSN;\n    GET <- \"get\" _WSN;\n    SET <- \"set\" _WSN;\n    IMPORT <- \"import\" _WSN;\n    EXPORT <- \"export\" _WSN;\n    FROM <- \"from\" _WSN;\n    FUNCTION <- \"function\" _WSN;\n    DEFAULT <- \"default\" _WSN;\n    EQUALS <- \"=\" _WS;\n    SEMI <- \";\" _WS;\n    STAR <- \"*\" _WS;\n    `;\n\n  const jessieExprTag = peg.extends(jessieTag)`\n    # Jump to the expr production.\n    start <- _WS expr _EOF              ${e => (..._a) => e};\n    `;\n\n  return [jessieTag, jessieExprTag];\n});\n\nexport default immunize(makeJessie);","// DO NOT EDIT - Generated automatically from quasi-json.mjs.ts by tessc\n// Subsets of JavaScript, starting from the grammar as defined at\n// http://www.ecma-international.org/ecma-262/9.0/#sec-grammar-summary\n\n// Defined to be extended into the Jessie grammar.\n// See https://github.com/Agoric/Jessie/blob/master/README.md\n// for documentation of the Jessie grammar.\n\n// See also json.org\n\n/// <reference path=\"peg.d.ts\"/>\n\nconst makeJSON = immunize(peg => {\n  const { FAIL, HOLE, SKIP } = peg;\n  return peg`\n# to be overridden or inherited\nstart <- _WS assignExpr _EOF                ${v => (..._a) => v};\n\n# to be extended\nprimaryExpr <- dataStructure;\n\ndataStructure <-\n  dataLiteral                             ${n => ['data', JSON.parse(n)]}\n/ array\n/ record\n/ HOLE                                    ${h => ['exprHole', h]};\n\n# An expression without side-effects.\n# to be extended\npureExpr <-\n  dataLiteral                             ${n => ['data', JSON.parse(n)]}\n/ pureArray\n/ pureRecord\n/ HOLE                                    ${h => ['exprHole', h]};\n\ndataLiteral <- ((\"null\" / \"false\" / \"true\") _WSN / NUMBER / STRING) _WS;\n\npureArray <-\n  LEFT_BRACKET pureExpr ** _COMMA _COMMA? RIGHT_BRACKET ${(_, es, _2) => ['array', es]};\n\narray <-\n  LEFT_BRACKET element ** _COMMA _COMMA? RIGHT_BRACKET ${(_, es, _2) => ['array', es]};\n\n# to be extended\nelement <- assignExpr;\n\n# The JavaScript and JSON grammars calls records \"objects\"\n\npureRecord <-\n  LEFT_BRACE purePropDef ** _COMMA _COMMA? RIGHT_BRACE  ${(_, ps, _2) => ['record', ps]};\n\nrecord <-\n  LEFT_BRACE propDef ** _COMMA _COMMA? RIGHT_BRACE  ${(_, ps, _2) => ['record', ps]};\n\n# to be extended\npurePropDef <- propName COLON pureExpr     ${(k, _, e) => ['prop', k, e]};\n\n# to be extended\npropDef <- propName COLON assignExpr       ${(k, _, e) => ['prop', k, e]};\n\n# to be extended\npropName <- STRING                     ${str => {\n    const js = JSON.parse(str);\n    if (js === '__proto__') {\n      // Don't allow __proto__ behaviour attacks.\n      return FAIL;\n    }\n    return ['data', js];\n  }};\n\n# to be overridden\nassignExpr <- primaryExpr;\n\n# Lexical syntax\n\n_EOF <- ~.;\nLEFT_BRACKET <- \"[\" _WS;\nRIGHT_BRACKET <- \"]\" _WS;\nLEFT_BRACE <- \"{\" _WS;\nRIGHT_BRACE <- \"}\" _WS;\n_COMMA <- \",\" _WS                     ${_ => SKIP};\nCOLON <- \":\" _WS;\nMINUS <- \"-\" _WS;\nHOLE <- &${HOLE} _WS;\n\nSTRING <- < '\"' (~'\"' character)* '\"' > _WS;\n\nutf8 <-\n  [\\xc2-\\xdf] utf8cont\n/ [\\xe0-\\xef] utf8cont utf8cont\n/ [\\xf0-\\xf4] utf8cont utf8cont utf8cont;\n\nutf8cont <- [\\x80-\\xbf];\n\ncharacter <-\n  escape\n/ '\\\\u' hex hex hex hex\n/ ~'\\\\' ([\\x20-\\x7f] / utf8);\n\nescape <- '\\\\' ['\"\\\\bfnrt];\nhex <- digit / [a-fA-F];\n\nNUMBER <- < int frac? exp? > _WSN;\n\nint <- [1-9] digit+\n/ digit\n/ MINUS digit\n/ MINUS [1-9] digit+;\n\ndigit <- [0-9];\n\nfrac <- '.' digit+;\nexp <- [Ee] [+\\-]? digit+;\n\n# _WSN is whitespace or a non-ident character.\n_WSN <- ~[$A-Za-z_] _WS    ${_ => SKIP};\n_WS <- [\\t\\n\\r ]*          ${_ => SKIP};\n`;\n\n});\n\nexport default immunize(makeJSON);","// DO NOT EDIT - Generated automatically from quasi-utils.mjs.ts by tessc\nexport const qunpack = immunize((h, ms, t) => {\n  return [h, ...ms, t];\n});\n\nexport const qrepack = immunize(parts => {\n  // TODO bug: We only provide the raw form at this time. I\n  // apologize once again for allowing a cooked form into the\n  // standard.\n  const raw = [parts[0]];\n  const argExprs = [];\n  const len = parts.length;\n  for (let i = 1; i < len; i += 2) {\n    argExprs.push(parts[i]);\n    raw.push(parts[i + 1]);\n  }\n  const template = [...raw];\n  template.raw = raw;\n  return [['data', template], ...argExprs];\n});\n\nexport const reduceElisions = immunize(es => {\n  const reduced = [];\n  for (const e of es) {\n    if (e[0] === undefined) {\n      // Push the elisions.\n      e.forEach(_ => reduced.push(undefined));\n    } else {\n      // Push the individual expression.\n      reduced.push(e);\n    }\n  }\n  return reduced;\n});","// DO NOT EDIT - Generated automatically from quasi-justin.mjs.ts by tessc\n// Subsets of JavaScript, starting from the grammar as defined at\n// http://www.ecma-international.org/ecma-262/9.0/#sec-grammar-summary\n\n// Justin is the safe JavaScript expression language, a potentially\n// pure decidable superset of JSON and subset of Jessie, that relieves\n// many of the pain points of using JSON as a data format:\n//   * unquoted indentifier property names.\n//   * comments.\n//   * multi-line strings (via template literals).\n//   * undefined.\n//   * includes all floating point values: NaN, Infinity, -Infinity\n//   * will include BigInt once available.\n\n// Justin also includes most pure JavaScript expressions. Justin does not\n// include function expressions or variable or function\n// definitions. However, it does include free variable uses and\n// function calls; so the purity and decidability of Justin depends on\n// the endowments provided for these free variable bindings.\n\n// Justin is defined to be extended into the Jessie grammar, which is\n// defined to be extended into the JavaScript grammar.\n// See https://github.com/Agoric/Jessie/blob/master/README.md\n// for documentation of the Jessie grammar.\n\n// Justin is defined to be extended into the Chainmail grammar, to\n// provide its expression language in a JS-like style. Chainmail\n// expressions need to be pure and should be decidable.\n\n/// <reference path=\"peg.d.ts\"/>\n\nimport { qunpack as $i_qunpack } from './quasi-utils.mjs';const qunpack = immunize($i_qunpack);\n\nconst binary = immunize((left, rights) => {\n  return rights.reduce((prev, [op, right]) => [op, prev, right], left);\n});\n\nconst transformSingleQuote = immunize(s => {\n  let i = 0,qs = '';\n  while (i < s.length) {\n    const c = s.slice(i, i + 1);\n    if (c === '\\\\') {\n      // Skip one char.\n      qs += s.slice(i, i + 2);\n      i += 2;\n    } else if (c === '\"') {\n      // Quote it.\n      qs += '\\\\\"';\n      i++;\n    } else {\n      // Add it directly.\n      qs += c;\n      i++;\n    }\n  }\n  return `\"${qs}\"`;\n});\n\nconst makeJustin = immunize(peg => {\n  const { SKIP } = peg;\n  return peg`\n    # to be overridden or inherited\n    start <- _WS assignExpr _EOF                       ${v => (..._a) => v};\n\n    # A.1 Lexical Grammar\n\n    DOT <- \".\" _WS;\n    ELLIPSIS <- \"...\" _WS;\n    LEFT_PAREN <- \"(\" _WS;\n    PLUS <- \"+\" _WS;\n    QUESTION <- \"?\" _WS;\n    RIGHT_PAREN <- \")\" _WS;\n    STARSTAR <- \"**\" _WS;\n\n    # Define Javascript-style comments.\n    _WS <- super._WS (EOL_COMMENT / MULTILINE_COMMENT)?   ${_ => SKIP};\n    EOL_COMMENT <- \"//\" (~[\\n\\r] .)* _WS;\n    MULTILINE_COMMENT <- \"/*\" (~\"*/\" .)* \"*/\" _WS;\n\n    # Add single-quoted strings.\n    STRING <-\n      super.STRING\n    / \"'\" < (~\"'\" character)* > \"'\" _WS  ${s => transformSingleQuote(s)};\n\n    # Only match if whitespace doesn't contain newline\n    _NO_NEWLINE <- ~IDENT [ \\t]*     ${_ => SKIP};\n\n    IDENT_NAME <- ~(HIDDEN_PFX / \"__proto__\") (IDENT / RESERVED_WORD);\n\n    IDENT <- ~(HIDDEN_PFX / IMPORT_PFX) < [$A-Za-z_] [$A-Za-z0-9_]* > _WS;\n    HIDDEN_PFX <- \"$h_\";\n    IMPORT_PFX <- \"$i_\";\n\n    # Omit \"async\", \"arguments\", \"eval\", \"get\", and \"set\" from IDENT\n    # in Justin even though ES2017 considers them in IDENT.\n    RESERVED_WORD <-\n      (KEYWORD / RESERVED_KEYWORD / FUTURE_RESERVED_WORD\n    / \"null\" / \"false\" / \"true\"\n    / \"async\" / \"arguments\" / \"eval\" / \"get\" / \"set\") _WSN;\n\n    KEYWORD <-\n      (\"break\"\n    / \"case\" / \"catch\" / \"const\" / \"continue\"\n    / \"debugger\" / \"default\"\n    / \"else\" / \"export\"\n    / \"finally\" / \"for\" / \"function\"\n    / \"if\" / \"import\"\n    / \"return\"\n    / \"switch\"\n    / \"throw\" / \"try\" / \"typeof\"\n    / \"void\"\n    / \"while\") _WSN;\n\n    # Unused by Justin but enumerated here, in order to omit them\n    # from the IDENT token.\n    RESERVED_KEYWORD <-\n      (\"class\"\n    / \"delete\" / \"do\"\n    / \"extends\"\n    / \"in\" / \"instanceof\"\n    / \"new\"\n    / \"super\"\n    / \"this\"\n    / \"var\"\n    / \"with\"\n    / \"yield\") _WSN;\n\n    FUTURE_RESERVED_WORD <-\n      (\"await\" / \"enum\"\n    / \"implements\" / \"package\" / \"protected\"\n    / \"interface\" / \"private\" / \"public\") _WSN;\n\n    # Quasiliterals aka template literals\n    QUASI_CHAR <- \"\\\\\" . / ~\"\\`\" .;\n    QUASI_ALL <- \"\\`\" < (~\"\\${\" QUASI_CHAR)* > \"\\`\" _WS;\n    QUASI_HEAD <- \"\\`\" < (~\"\\${\" QUASI_CHAR)* > \"\\${\" _WS;\n    QUASI_MID <- \"}\" < (~\"\\${\" QUASI_CHAR)* > \"\\${\" _WS;\n    QUASI_TAIL <- \"}\" < (~\"\\${\" QUASI_CHAR)* > \"\\`\" _WS;\n\n\n    # A.2 Expressions\n\n    dataStructure <-\n      \"undefined\" _WSN     ${_ => ['data', undefined]}\n    / super.dataStructure;\n\n    # Optional trailing commas.\n    record <-\n      super.record\n    / LEFT_BRACE propDef ** _COMMA _COMMA? RIGHT_BRACE      ${(_, ps, _2) => ['record', ps]};\n\n    array <-\n      super.array\n    / LEFT_BRACKET element ** _COMMA _COMMA? RIGHT_BRACKET  ${(_, es, _2) => ['array', es]};\n\n    useVar <- IDENT                                       ${id => ['use', id]};\n\n    # Justin does not contain variable definitions, only uses. However,\n    # multiple languages that extend Justin will contain defining\n    # occurrences of variable names, so we put the defVar production\n    # here.\n    defVar <- IDENT                                       ${id => ['def', id]};\n\n\n    primaryExpr <-\n      super.primaryExpr\n    / quasiExpr\n    / LEFT_PAREN expr RIGHT_PAREN                         ${(_, e, _2) => e}\n    / useVar;\n\n    pureExpr <-\n      super.pureExpr\n    / LEFT_PAREN pureExpr RIGHT_PAREN                     ${(_, e, _2) => e}\n    / useVar;\n\n    element <-\n      super.element\n    / ELLIPSIS assignExpr                                 ${(_, e) => ['spread', e]};\n\n    propDef <-\n      super.propDef\n    / useVar                                              ${u => ['prop', u[1], u]}\n    / ELLIPSIS assignExpr                                 ${(_, e) => ['spreadObj', e]};\n\n    purePropDef <-\n      super.purePropDef\n    / useVar                                              ${u => ['prop', u[1], u]}\n    / ELLIPSIS assignExpr                                 ${(_, e) => ['spreadObj', e]};\n\n    # No computed property name\n    propName <-\n      super.propName\n    / IDENT_NAME\n    / NUMBER;\n\n    quasiExpr <-\n      QUASI_ALL                                            ${q => ['quasi', [q]]}\n    / QUASI_HEAD expr ** QUASI_MID QUASI_TAIL              ${(h, ms, t) => ['quasi', qunpack(h, ms, t)]};\n\n    # to be extended\n    memberPostOp <-\n      LEFT_BRACKET indexExpr RIGHT_BRACKET                 ${(_, e, _3) => ['index', e]}\n    / DOT IDENT_NAME                                       ${(_, id) => ['get', id]}\n    / quasiExpr                                            ${q => ['tag', q]};\n\n    # to be extended\n    callPostOp <-\n      memberPostOp\n    / args                                                 ${args => ['call', args]};\n\n    # Because Justin and Jessie have no \"new\" or \"super\", they don't need\n    # to distinguish callExpr from memberExpr. So justin omits memberExpr\n    # and newExpr. Instead, in Justin, callExpr jumps directly to\n    # primaryExpr and updateExpr jumps directly to callExpr.\n\n    # to be overridden.\n    callExpr <- primaryExpr callPostOp*                   ${binary};\n\n    # To be overridden rather than inherited.\n    # Introduced to impose a non-JS restriction\n    # Restrict index access to number-names, including\n    # floating point, NaN, Infinity, and -Infinity.\n    indexExpr <-\n      NUMBER                                               ${n => ['data', JSON.parse(n)]}\n    / PLUS unaryExpr                                       ${(_, e) => [`pre:+`, e]};\n\n    args <- LEFT_PAREN arg ** _COMMA RIGHT_PAREN            ${(_, args, _2) => args};\n\n    arg <-\n      assignExpr\n    / ELLIPSIS assignExpr                                  ${(_, e) => ['spread', e]};\n\n    # to be overridden\n    updateExpr <- callExpr;\n\n    unaryExpr <-\n      preOp unaryExpr                                      ${(op, e) => [op, e]}\n    / updateExpr;\n\n    # to be extended\n    # No prefix or postfix \"++\" or \"--\".\n    # No \"delete\".\n    preOp <- ((\"void\" / \"typeof\") _WSN / prePre);\n    prePre <- (\"+\" / \"-\" / \"~\" / \"!\") _WS                 ${op => `pre:${op}`};\n\n    # Different communities will think -x**y parses in different ways,\n    # so the EcmaScript grammar forces parens to disambiguate.\n    powExpr <-\n      updateExpr STARSTAR powExpr                          ${(x, op, y) => [op, x, y]}\n    / unaryExpr;\n\n    multExpr <- powExpr (multOp powExpr)*                  ${binary};\n    addExpr <- multExpr (addOp multExpr)*                  ${binary};\n    shiftExpr <- addExpr (shiftOp addExpr)*                ${binary};\n\n    # Non-standard, to be overridden\n    # In C-like languages, the precedence and associativity of the\n    # relational, equality, and bitwise operators is surprising, and\n    # therefore hazardous. Here, none of these associate with the\n    # others, forcing parens to disambiguate.\n    eagerExpr <- shiftExpr (eagerOp shiftExpr)?            ${binary};\n\n    andThenExpr <- eagerExpr (andThenOp eagerExpr)*       ${binary};\n    orElseExpr <- andThenExpr (orElseOp andThenExpr)*     ${binary};\n\n    multOp <- (\"*\" / \"/\" / \"%\") _WS;\n    addOp <- (\"+\" / \"-\") _WS;\n    shiftOp <- (\"<<\" / \">>>\" / \">>\") _WS;\n    relOp <- (\"<=\" / \"<\" / \">=\" / \">\") _WS;\n    eqOp <- (\"===\" / \"!==\") _WS;\n    bitOp <- (\"&\" / \"^\" / \"|\") _WS;\n\n    eagerOp <- relOp / eqOp / bitOp;\n\n    andThenOp <- \"&&\" _WS;\n    orElseOp <- \"||\" _WS;\n\n    condExpr <-\n      orElseExpr QUESTION assignExpr COLON assignExpr   ${(c, _, t, _2, e) => ['cond', c, t, e]}\n    / orElseExpr;\n\n    # override, to be extended\n    assignExpr <- condExpr;\n\n    # The comma expression is not in Jessie because we\n    # opt to pass only immunized expressions as the this-binding.\n    expr <- assignExpr;\n  `;\n});\n\nexport default immunize(makeJustin);","// DO NOT EDIT - Generated automatically from rewrite-define.mjs.ts by tessc\n\n\nconst hide = immunize(vname => `\\$h_${vname}`);\n\n// Return a string separated by separators.\nconst separate = immunize((strs, sep) => {\n  let ret = '';\n  let actualSep = '';\n  for (const str of strs) {\n    if (str !== '') {\n      ret += actualSep + str;\n      actualSep = sep;\n    }\n  }\n  return ret;\n});\n\nconst moduleRewriteDefine = immunize((moduleAST, DEFINE = hide('define')) => {\n  const EXPORTS = hide('exports');\n  const imports = makeMap();\n  const exportVars = makeSet();\n  let starName;\n  let nImport = 0;\n  const rewriters = {\n    as(imp, sym) {\n      if (imp === '*') {\n        starName = sym;\n        return '';\n      }\n      return `${imp}: ${sym}`;\n    },\n    bind(def, expr) {\n      const name = doRewrite(def);\n      return `${name} = ${doRewrite(expr)}`;\n    },\n    def(name) {\n      exportVars.add(name);\n      return name;\n    },\n    exportDefaultX(val) {\n      return `${EXPORTS}.default = ${doRewrite(val)};`;\n    },\n    exportX(qual, binds) {\n      exportVars.clear();\n      const bindings = separate(binds.map(doRewrite), ', ');\n      let assign = '';\n      for (const vname of exportVars.keys()) {\n        assign += `${EXPORTS}.${vname} = ${vname};\\n`;\n      }\n      exportVars.clear();\n      return `${qual} ${bindings};\\n${assign}`;\n    },\n    import(clause, fromModule) {\n      // Save the bindings.\n      starName = undefined;\n      const bindings = doRewrite(clause);\n      if (starName === undefined) {\n        starName = hide(`star${nImport++}`);\n      }\n      imports.set(fromModule, starName);\n      if (bindings) {\n        return `const {${bindings}} = ${starName};\\n`;\n      }\n      return '';\n    },\n    importBind(bindings) {\n      return separate(bindings.map(doRewrite), ', ');\n    },\n    matchArray(es) {\n      return `[${separate(es.map(doRewrite), ', ')}]`;\n    },\n    matchProp(kw, prop) {\n      const rewrite = doRewrite(prop);\n      if (kw === rewrite) {\n        return kw;\n      }\n      return `${kw}: ${rewrite}`;\n    },\n    matchRecord(es) {\n      return `{${separate(es.map(doRewrite), ', ')}}`;\n    },\n    moduleX(decls) {\n      const body = decls.reduce((prior, cur) => prior + doRewrite(cur), '');\n      const modules = [];\n      const names = [];\n      for (const [mod, name] of imports.entries()) {\n        modules.push(mod);\n        names.push(name);\n      }\n      const bindings = separate(names, ', ');\n      return `${DEFINE}(\n${JSON.stringify(modules)},\n(${bindings}) => {\nconst ${EXPORTS} = {};\n${body}\nreturn ${EXPORTS};\n})`;\n    },\n    rest(expr) {\n      return `...${doRewrite(expr)}`;\n    },\n    restObj(expr) {\n      return `...${doRewrite(expr)}`;\n    } };\n\n\n  const doRewrite = node => {\n    if (typeof node === 'string') {\n      return node;\n    }\n    const [name, ...args] = node;\n    const rewriter = rewriters[name];\n    if (!rewriter) {\n      throw slog.error`No rewriter for ${{ name }}`;\n    }\n    return rewriter(...args);\n  };\n  return doRewrite(moduleAST);\n});\n\nexport default immunize(moduleRewriteDefine);","// DO NOT EDIT - Generated automatically from tag-string.mjs.ts by tessc\n/// <reference path=\"./peg.d.ts\"/>\nconst tagString = immunize((tag, uri) => {\n\n\n  function tagged(templateOrFlag, ...args)\n  {\n    if (typeof templateOrFlag === 'string') {\n      return tagString(tag(templateOrFlag), uri);\n    }\n    const template = templateOrFlag;\n    const cooked = template.reduce((prior, t, i) => {\n      prior.push(t, String(args[i]));\n      return prior;\n    }, []);\n    cooked.push(template[template.length - 1]);\n    const cooked0 = cooked.join('');\n    const raw0 = args.reduce((prior, hole, i) => {\n      prior.push(String(hole), template.raw[i + 1]);\n      return prior;\n    }, [template.raw[0]]).join('');\n    const sources0 = {\n      byte: 0,\n      column: 1,\n      line: 1,\n      uri };\n\n    const tmpl = [cooked0];\n    tmpl.raw = [raw0];\n    tmpl.sources = [sources0];\n    return tag(tmpl);\n  }\n  tagged.parserCreator = tag.parserCreator;\n  tagged._asExtending = tag._asExtending;\n  return tagged;\n});\n\nexport default immunize(tagString);","// DO NOT EDIT - Generated automatically from translate.mjs.ts by tessc\nimport $i_bootPeg from './boot-peg.mjs';const bootPeg = immunize($i_bootPeg);\nimport $i_bootPegAst from './boot-pegast.mjs';const bootPegAst = immunize($i_bootPegAst);\nimport $i_makePeg from './quasi-peg.mjs';const makePeg = immunize($i_makePeg);\n\nimport $i_makeJessieModule from './quasi-jessie-module.mjs';const makeJessieModule = immunize($i_makeJessieModule);\nimport $i_makeJessie from './quasi-jessie.mjs';const makeJessie = immunize($i_makeJessie);\nimport $i_makeJSON from './quasi-json.mjs';const makeJSON = immunize($i_makeJSON);\nimport $i_makeJustin from './quasi-justin.mjs';const makeJustin = immunize($i_makeJustin);\nimport $i_rewriteModuleDefine from './rewrite-define.mjs';const rewriteModuleDefine = immunize($i_rewriteModuleDefine);\nimport $i_tagString from './tag-string.mjs';const tagString = immunize($i_tagString);\n\nconst pegTag = immunize(bootPeg(makePeg, bootPegAst));\nconst jsonTag = immunize(makeJSON(pegTag));\nconst justinTag = immunize(makeJustin(pegTag.extends(jsonTag)));\nconst [jessieTag] = immunize(makeJessie(pegTag, pegTag.extends(justinTag)));\nconst jessieModuleTag = immunize(makeJessieModule(pegTag.extends(jessieTag)));\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport const translate = immunize((sourceText, parameters) =>\n\nmakePromise(resolve => {\n  const { sourceType, target, targetType } = parameters;\n  if (sourceType !== 'jessie') {\n    throw slog.error`Unrecognized sourceType: ${{ sourceType }}`;\n  }\n  if (target !== 'jessie-frame') {\n    throw slog.error`Unrecognized target: ${{ target }}`;\n  }\n\n  switch (targetType) {\n    case 'function':{\n        const tag = tagString(jessieModuleTag, parameters.sourceURL);\n\n        // Throw an exception if the sourceText doesn't parse.\n        const moduleAst = tag`${sourceText}`;\n\n        // Rewrite the ESM imports/exports into an SES-honouring AMD form.\n        const translatedText = rewriteModuleDefine(moduleAst, '$h_define');\n        const result = {\n          ...parameters,\n          translatedText };\n\n        return resolve(result);\n      }\n    case 'module':{\n        const tag = tagString(jessieTag, parameters.sourceURL);\n\n        // Throw an exception if the sourceText doesn't parse.\n        tag`${sourceText}`;\n\n        // Return the sourceText verbatim.\n        const result = {\n          ...parameters,\n          translatedText: sourceText };\n\n        return resolve(result);\n      }\n    default:{\n        throw slog.error`Unrecognized targetType: ${{ targetType }}`;\n      }}\n\n\n}));","import globalEnv from '../nodejs/globalEnv.mjs';\nexport {translate} from '../../lib/translate.mjs';\n\nexport const evaluate = (src) => {\n    return globalEnv.confine(src, globalEnv);\n};\n"]}