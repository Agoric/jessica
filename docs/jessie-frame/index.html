<!DOCTYPE html><html><head><title>Jessica Browser</title></head><body> <style>#sourceText{width:100%}</style> <script type="text/javascript" src="jessica.68795da5.js"></script> <h1>Browser-Based Jessica</h1>
 <p>Write your Jessie code below:</p> <textarea id="sourceText" rows="20">
// Use Jessie's main deps to run the program.
const main = insulate((deps) => {
    const say = (s) => deps.writeOutput('-', s + '\n');
    say('Hello, world!');
});
export default insulate(main);</textarea> <button id="btnRun">Run</button> <pre id="outputPre">
        </pre> <script>function e(){var n=t(["Cannot write to ",": must be -"]);return e=function(){return n},n}function t(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){r(e,t,n[t])})}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=jessica.SES.makeSESRootRealm({}),u=function(e){return o.evaluate(e,n({},jessica.globals,{$h_define:i}))};btnRun.addEventListener("click",function(){return a(sourceText.value,outputPre)});var a=function(t,n){n.textContent="";var r=function(t,r){"-"!==t&&slog.error(e(),{fname:t}),n.textContent+=r},o={writeOutput:r};jessica.translate(t,{sourceType:"jessie",target:"jessie-frame",targetType:"function"}).then(function(e){return u(e.translatedText)}).then(function(e){var t=e.default,n="function"==typeof t?t(o,[]):t;void 0!==n&&r("-",n)}).catch(function(e){throw r("-",e),e})},c=new Map,i=function(e,t){var n={sourceType:"jessie",target:"jessie-frame",targetType:"function"},r=e.map(function(e,t){var r="/"+e,o=c.get(e);return o||(o=fetch(r).then(function(e){if(e.ok)return e.text();throw Error("Cannot load "+r)}).then(function(e){return jessica.translate(e,n)}).then(function(e){return u(e.translatedText)}),c.set(o)),o});return Promise.all(r).then(function(e){return t.apply(void 0,e)})};</script> </body></html>